// Generated by Haxe 3.4.0 (git build development @ 0798aa8)
(function ($global) { "use strict";
var $estr = function() { return js_Boot.__string_rec(this,''); };
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Action = { __ename__ : ["Action"], __constructs__ : ["GoTo","LoadPage","PageLoaded","NotifyError"] };
Action.GoTo = function(slug) { var $x = ["GoTo",0,slug]; $x.__enum__ = Action; $x.toString = $estr; return $x; };
Action.LoadPage = function(page) { var $x = ["LoadPage",1,page]; $x.__enum__ = Action; $x.toString = $estr; return $x; };
Action.PageLoaded = function(page) { var $x = ["PageLoaded",2,page]; $x.__enum__ = Action; $x.toString = $estr; return $x; };
Action.NotifyError = function(err) { var $x = ["NotifyError",3,err]; $x.__enum__ = Action; $x.toString = $estr; return $x; };
var Client = function() { };
Client.__name__ = ["Client"];
Client.onContents = function(contents,api) {
	var state = { contents : contents, main : View.Loading};
	var prop = new thx_stream_Property(state);
	var middleware = new MW(api);
	var store = new thx_stream_Store(prop,Reduce.reduce,middleware["use"]());
	var render = new doom_html_Render();
	render.stream(store.stream().map(view_App.render),dots_Query.find("#main"));
	var tmp = Action.GoTo(window.location.hash);
	store.dispatch(tmp,{ fileName : "Client.hx", lineNumber : 24, className : "Client", methodName : "onContents"});
	window.onpopstate = function(e) {
		var tmp1 = Action.GoTo(window.location.hash);
		store.dispatch(tmp1,{ fileName : "Client.hx", lineNumber : 27, className : "Client", methodName : "onContents"});
	};
};
Client.main = function() {
	var api1 = new api_Rest();
	thx_promise__$Promise_Promise_$Impl_$.success(api1.base,function(url) {
		haxe_Log.trace(thx__$Url_Url_$Impl_$.toString(url),{ fileName : "Client.hx", lineNumber : 39, className : "Client", methodName : "main"});
		var link = window.document.createElement("link");
		link.rel = "stylesheet";
		link.href = "" + thx__$Url_Url_$Impl_$.toString(url) + "/dicefont/dicefont.css";
		window.document.head.appendChild(link);
	});
	var a2 = api1;
	var tmp = function(a1) {
		Client.onContents(a1,a2);
	};
	thx_promise__$Promise_Promise_$Impl_$.failure(thx_promise__$Promise_Promise_$Impl_$.success(api1.getSiteContents(),tmp),function(e) {
		haxe_Log.trace("ERROR",{ fileName : "Client.hx", lineNumber : 48, className : "Client", methodName : "main", customParams : [e.toString()]});
	});
};
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
EReg.__name__ = ["EReg"];
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw new js__$Boot_HaxeError("EReg::matched");
		}
	}
	,matchedRight: function() {
		if(this.r.m == null) {
			throw new js__$Boot_HaxeError("No string matched");
		}
		var sz = this.r.m.index + this.r.m[0].length;
		return HxOverrides.substr(this.r.s,sz,this.r.s.length - sz);
	}
	,matchedPos: function() {
		if(this.r.m == null) {
			throw new js__$Boot_HaxeError("No string matched");
		}
		return { pos : this.r.m.index, len : this.r.m[0].length};
	}
	,matchSub: function(s,pos,len) {
		if(len == null) {
			len = -1;
		}
		if(this.r.global) {
			this.r.lastIndex = pos;
			var tmp = this.r;
			var tmp1 = len < 0 ? s : HxOverrides.substr(s,0,pos + len);
			this.r.m = tmp.exec(tmp1);
			var b = this.r.m != null;
			if(b) {
				this.r.s = s;
			}
			return b;
		} else {
			var b1 = this.match(len < 0 ? HxOverrides.substr(s,pos,null) : HxOverrides.substr(s,pos,len));
			if(b1) {
				this.r.s = s;
				this.r.m.index += pos;
			}
			return b1;
		}
	}
	,map: function(s,f) {
		var offset = 0;
		var buf_b = "";
		while(true) {
			if(offset >= s.length) {
				break;
			} else if(!this.matchSub(s,offset)) {
				buf_b += Std.string(HxOverrides.substr(s,offset,null));
				break;
			}
			var p = this.matchedPos();
			buf_b += Std.string(HxOverrides.substr(s,offset,p.pos - offset));
			buf_b += Std.string(f(this));
			if(p.len == 0) {
				buf_b += Std.string(HxOverrides.substr(s,p.pos,1));
				offset = p.pos + 1;
			} else {
				offset = p.pos + p.len;
			}
			if(!this.r.global) {
				break;
			}
		}
		if(!this.r.global && offset > 0 && offset < s.length) {
			buf_b += Std.string(HxOverrides.substr(s,offset,null));
		}
		return buf_b;
	}
	,__class__: EReg
};
var HxOverrides = function() { };
HxOverrides.__name__ = ["HxOverrides"];
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var thx_StaticResource = function() { };
thx_StaticResource.__name__ = ["thx","StaticResource"];
var Loc = function() { };
Loc.__name__ = ["Loc"];
Loc.__interfaces__ = [thx_StaticResource];
var MW = function(rest) {
	this.rest = rest;
};
MW.__name__ = ["MW"];
MW.format = function(template,values) {
	return thx_Arrays.reducei(values,function(template1,word,i) {
		return template1.split("{" + i + "}").join(word);
	},template);
};
MW.prototype = {
	'use': function() {
		return thx_stream__$Reducer_Middleware_$Impl_$.compose(thx_stream__$Reducer_Middleware_$Impl_$.compose(thx_stream__$Reducer_Middleware_$Impl_$.compose(thx_stream__$Reducer_Middleware_$Impl_$.empty(),$bind(this,this.loadContent)),thx_stream__$Reducer_Middleware_$Impl_$.sideEffectState($bind(this,this.displayTitle))),thx_stream__$Reducer_Middleware_$Impl_$.sideEffectState(this.googleAnalytics()));
	}
	,displayTitle: function(state) {
		var title;
		var _g = state.main;
		switch(_g[1]) {
		case 0:
			title = Loc.msg.tab_title_loading;
			break;
		case 1:
			var data = _g[2];
			if(data.name != "home") {
				title = MW.format(Loc.msg.tab_title_page,[thx_Strings.upperCaseFirst(data.name)]);
			} else {
				var data1 = _g[2];
				title = Loc.msg.tab_home_title_page;
			}
			break;
		case 2:
			switch(_g[2][1]) {
			case 0:
				title = Loc.msg.tab_title_page_not_found;
				break;
			case 1:
				title = Loc.msg.tab_title_generic_error;
				break;
			}
			break;
		}
		window.document.title = title;
	}
	,loadContent: function(state,action,dispatch) {
		switch(action[1]) {
		case 0:
			var url = action[2];
			url = thx_Strings.trimCharsLeft(url,"#/");
			if(url == "") {
				dispatch(Action.LoadPage(state.contents.home));
			} else {
				var _g = thx_Arrays.findOption(state.contents.pages,function(page) {
					return page.name == url;
				});
				switch(_g[1]) {
				case 0:
					var page1 = _g[2];
					haxe_Log.trace("FOUND",{ fileName : "MW.hx", lineNumber : 48, className : "MW", methodName : "loadContent", customParams : [page1]});
					dispatch(Action.LoadPage(page1));
					break;
				case 1:
					haxe_Log.trace("NOT FOUND",{ fileName : "MW.hx", lineNumber : 51, className : "MW", methodName : "loadContent", customParams : [url]});
					dispatch(Action.NotifyError(ErrorKind.ContentNotFound(url)));
					break;
				}
			}
			break;
		case 1:
			var page2 = action[2];
			var _e = this.rest.getPage(page2);
			thx_promise__$Promise_Promise_$Impl_$.failure((function(success) {
				return thx_promise__$Promise_Promise_$Impl_$.success(_e,success);
			})(function(_) {
				dispatch(Action.PageLoaded(_));
				return;
			}),function(err) {
				haxe_Log.trace(err,{ fileName : "MW.hx", lineNumber : 59, className : "MW", methodName : "loadContent"});
				var tmp = Action.NotifyError(ErrorKind.ContentNotFound(page2.filename.toString()));
				dispatch(tmp);
			});
			break;
		default:
		}
	}
	,googleAnalytics: function() {
		var curr = "";
		return function(state) {
			var _g = state.main;
			switch(_g[1]) {
			case 1:
				var page = _g[2];
				if(curr == page.name) {
					curr = page.name;
					ga("set","page",curr);
					ga("send","pageview");
				}
				break;
			case 2:
				var err = _g[2];
				break;
			default:
			}
		};
	}
	,__class__: MW
};
var Markdown = function() { };
Markdown.__name__ = ["Markdown"];
Markdown.markdownToHtml = function(markdown) {
	var document = new Document();
	try {
		var _this_r = new RegExp("(\r\n|\r)","g".split("u").join(""));
		var lines = markdown.replace(_this_r,"\n").split("\n");
		document.parseRefLinks(lines);
		var blocks = document.parseLines(lines);
		return Markdown.renderHtml(blocks);
	} catch( e ) {
		haxe_CallStack.lastException = e;
		if (e instanceof js__$Boot_HaxeError) e = e.val;
		return "<pre>" + Std.string(e) + "</pre>";
	}
};
Markdown.renderHtml = function(blocks) {
	return new markdown_HtmlRenderer().render(blocks);
};
var Document = function() {
	this.refLinks = new haxe_ds_StringMap();
	this.inlineSyntaxes = [];
};
Document.__name__ = ["Document"];
Document.prototype = {
	parseRefLinks: function(lines) {
		var indent = "^[ ]{0,3}";
		var id = "\\[([^\\]]+)\\]";
		var quote = "\"[^\"]+\"";
		var apos = "'[^']+'";
		var paren = "\\([^)]+\\)";
		var titles = new EReg("(" + quote + "|" + apos + "|" + paren + ")","");
		var link = new EReg("" + indent + id + ":\\s+(\\S+)\\s*(" + quote + "|" + apos + "|" + paren + "|)\\s*$","");
		var _g1 = 0;
		var _g = lines.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(!link.match(lines[i])) {
				continue;
			}
			var id1 = link.matched(1);
			var url = link.matched(2);
			var title = link.matched(3);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = HxOverrides.substr(url,1,url.length - 2);
			}
			if(title == "" && lines[i + 1] != null && titles.match(lines[i + 1])) {
				title = titles.matched(1);
				lines[i + 1] = "";
			}
			if(title == "") {
				title = null;
			} else {
				title = title.substring(1,title.length - 1);
			}
			id1 = id1.toLowerCase();
			var this1 = this.refLinks;
			var value = new Link(id1,url,title);
			var _this = this1;
			if(__map_reserved[id1] != null) {
				_this.setReserved(id1,value);
			} else {
				_this.h[id1] = value;
			}
			lines[i] = "";
		}
	}
	,parseLines: function(lines) {
		var parser = new markdown_BlockParser(lines,this);
		var blocks = [];
		while(parser.pos < parser.lines.length) {
			var _g = 0;
			var _g1 = markdown_BlockSyntax.get_syntaxes();
			while(_g < _g1.length) {
				var syntax = _g1[_g];
				++_g;
				if(syntax.canParse(parser)) {
					var block = syntax.parse(parser);
					if(block != null) {
						blocks.push(block);
					}
					break;
				}
			}
		}
		return blocks;
	}
	,parseInline: function(text) {
		return new markdown_InlineParser(text,this).parse();
	}
	,__class__: Document
};
var Link = function(id,url,title) {
	this.id = id;
	this.url = url;
	this.title = title;
};
Link.__name__ = ["Link"];
Link.prototype = {
	__class__: Link
};
Math.__name__ = ["Math"];
var Reduce = function() { };
Reduce.__name__ = ["Reduce"];
Reduce.reduce = function(state,action) {
	switch(action[1]) {
	case 0:case 1:
		return state;
	case 2:
		var page = action[2];
		var o = state;
		return { contents : o.contents, main : View.Page(page)};
	case 3:
		var err = action[2];
		var o1 = state;
		return { contents : o1.contents, main : View.Error(err)};
	}
};
var Reflect = function() { };
Reflect.__name__ = ["Reflect"];
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		haxe_CallStack.lastException = e;
		return null;
	}
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.compare = function(a,b) {
	if(a == b) {
		return 0;
	} else if(a > b) {
		return 1;
	} else {
		return -1;
	}
};
Reflect.isObject = function(v) {
	if(v == null) {
		return false;
	}
	var t = typeof(v);
	if(!(t == "string" || t == "object" && v.__enum__ == null)) {
		if(t == "function") {
			return (v.__name__ || v.__ename__) != null;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
Reflect.deleteField = function(o,field) {
	if(!Object.prototype.hasOwnProperty.call(o,field)) {
		return false;
	}
	delete(o[field]);
	return true;
};
var View = { __ename__ : ["View"], __constructs__ : ["Loading","Page","Error"] };
View.Loading = ["Loading",0];
View.Loading.toString = $estr;
View.Loading.__enum__ = View;
View.Page = function(data) { var $x = ["Page",1,data]; $x.__enum__ = View; $x.toString = $estr; return $x; };
View.Error = function(e) { var $x = ["Error",2,e]; $x.__enum__ = View; $x.toString = $estr; return $x; };
var ErrorKind = { __ename__ : ["ErrorKind"], __constructs__ : ["ContentNotFound","ServerError"] };
ErrorKind.ContentNotFound = function(path) { var $x = ["ContentNotFound",0,path]; $x.__enum__ = ErrorKind; $x.toString = $estr; return $x; };
ErrorKind.ServerError = function(e) { var $x = ["ServerError",1,e]; $x.__enum__ = ErrorKind; $x.toString = $estr; return $x; };
var Std = function() { };
Std.__name__ = ["Std"];
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x,10);
	if(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {
		v = parseInt(x);
	}
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringBuf = function() {
	this.b = "";
};
StringBuf.__name__ = ["StringBuf"];
StringBuf.prototype = {
	__class__: StringBuf
};
var StringTools = function() { };
StringTools.__name__ = ["StringTools"];
StringTools.htmlEscape = function(s,quotes) {
	s = s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
	if(quotes) {
		return s.split("\"").join("&quot;").split("'").join("&#039;");
	} else {
		return s;
	}
};
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return HxOverrides.substr(s,0,start.length) == start;
	} else {
		return false;
	}
};
StringTools.endsWith = function(s,end) {
	var elen = end.length;
	var slen = s.length;
	if(slen >= elen) {
		return HxOverrides.substr(s,slen - elen,elen) == end;
	} else {
		return false;
	}
};
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
var ValueType = { __ename__ : ["ValueType"], __constructs__ : ["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"] };
ValueType.TNull = ["TNull",0];
ValueType.TNull.toString = $estr;
ValueType.TNull.__enum__ = ValueType;
ValueType.TInt = ["TInt",1];
ValueType.TInt.toString = $estr;
ValueType.TInt.__enum__ = ValueType;
ValueType.TFloat = ["TFloat",2];
ValueType.TFloat.toString = $estr;
ValueType.TFloat.__enum__ = ValueType;
ValueType.TBool = ["TBool",3];
ValueType.TBool.toString = $estr;
ValueType.TBool.__enum__ = ValueType;
ValueType.TObject = ["TObject",4];
ValueType.TObject.toString = $estr;
ValueType.TObject.__enum__ = ValueType;
ValueType.TFunction = ["TFunction",5];
ValueType.TFunction.toString = $estr;
ValueType.TFunction.__enum__ = ValueType;
ValueType.TClass = function(c) { var $x = ["TClass",6,c]; $x.__enum__ = ValueType; $x.toString = $estr; return $x; };
ValueType.TEnum = function(e) { var $x = ["TEnum",7,e]; $x.__enum__ = ValueType; $x.toString = $estr; return $x; };
ValueType.TUnknown = ["TUnknown",8];
ValueType.TUnknown.toString = $estr;
ValueType.TUnknown.__enum__ = ValueType;
var Type = function() { };
Type.__name__ = ["Type"];
Type.getClassName = function(c) {
	var a = c.__name__;
	if(a == null) {
		return null;
	}
	return a.join(".");
};
Type.getEnumName = function(e) {
	var a = e.__ename__;
	return a.join(".");
};
Type.createInstance = function(cl,args) {
	var _g = args.length;
	switch(_g) {
	case 0:
		return new cl();
	case 1:
		return new cl(args[0]);
	case 2:
		return new cl(args[0],args[1]);
	case 3:
		return new cl(args[0],args[1],args[2]);
	case 4:
		return new cl(args[0],args[1],args[2],args[3]);
	case 5:
		return new cl(args[0],args[1],args[2],args[3],args[4]);
	case 6:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5]);
	case 7:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);
	case 8:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);
	case 9:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);
	case 10:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);
	case 11:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);
	case 12:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);
	case 13:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);
	case 14:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);
	default:
		throw new js__$Boot_HaxeError("Too many arguments");
	}
};
Type["typeof"] = function(v) {
	var _g = typeof(v);
	switch(_g) {
	case "boolean":
		return ValueType.TBool;
	case "function":
		if(v.__name__ || v.__ename__) {
			return ValueType.TObject;
		}
		return ValueType.TFunction;
	case "number":
		if(Math.ceil(v) == v % 2147483648.0) {
			return ValueType.TInt;
		}
		return ValueType.TFloat;
	case "object":
		if(v == null) {
			return ValueType.TNull;
		}
		var e = v.__enum__;
		if(e != null) {
			return ValueType.TEnum(e);
		}
		var c = js_Boot.getClass(v);
		if(c != null) {
			return ValueType.TClass(c);
		}
		return ValueType.TObject;
	case "string":
		return ValueType.TClass(String);
	case "undefined":
		return ValueType.TNull;
	default:
		return ValueType.TUnknown;
	}
};
var api_Face = { __ename__ : ["api","Face"], __constructs__ : ["Number","Empty"] };
api_Face.Number = function(value) { var $x = ["Number",0,value]; $x.__enum__ = api_Face; $x.toString = $estr; return $x; };
api_Face.Empty = ["Empty",1];
api_Face.Empty.toString = $estr;
api_Face.Empty.__enum__ = api_Face;
var api_Glyph = function(name,code) {
	this.name = name;
	this.code = code;
	var num = name.split("-").pop();
	this.face = api_Glyph.numberPattern.match(num) ? api_Face.Number(Std.parseInt(num)) : api_Face.Empty;
};
api_Glyph.__name__ = ["api","Glyph"];
api_Glyph.schema = function() {
	return thx_schema_SimpleSchema.object(api_Glyph.builder());
};
api_Glyph.builder = function() {
	var v1 = thx_schema_SchemaDSL.required("name",thx_schema_SimpleSchema.string(),function(x) {
		return x.name;
	});
	return thx_schema_ObjectSchemaExtensions.ap(thx_schema_SchemaDSL.required("code",thx_schema_SimpleSchema.string(),function(x1) {
		return x1.code;
	}),thx_schema_ObjectSchemaExtensions.map(v1,thx_Functions2.curry(function(name,code) {
		return new api_Glyph(name,code);
	})));
};
api_Glyph.prototype = {
	__class__: api_Glyph
};
var api_Glyphs = function() { };
api_Glyphs.__name__ = ["api","Glyphs"];
api_Glyphs.sortf = function(a,b) {
	var _g = b.face;
	var _g1 = a.face;
	switch(_g1[1]) {
	case 0:
		switch(_g[1]) {
		case 0:
			var a1 = _g1[2];
			var b1 = _g[2];
			return thx_Ints.compare(a1,b1);
		case 1:
			return 1;
		}
		break;
	case 1:
		switch(_g[1]) {
		case 0:
			return -1;
		case 1:
			return 0;
		}
		break;
	}
};
api_Glyphs.group = function(glyphs) {
	return api_Glyphs.groups.map(function(group) {
		var f = function(g) {
			if(g.name != "df-" + group.prefix) {
				return StringTools.startsWith(g.name,"df-" + group.prefix + "-");
			} else {
				return true;
			}
		};
		var g1 = thx_Arrays.order(glyphs.filter(f),api_Glyphs.sortf);
		return new api_Group(group.name,group.size,g1);
	});
};
var api_Group = function(title,size,glyphs) {
	this.title = title;
	this.size = size;
	this.glyphs = glyphs;
};
api_Group.__name__ = ["api","Group"];
api_Group.prototype = {
	__class__: api_Group
};
var api_Page = function(name,filename,content) {
	this.name = name;
	this.filename = filename;
	this.content = content;
};
api_Page.__name__ = ["api","Page"];
api_Page.prototype = {
	__class__: api_Page
};
var api_PageAbstract = function(name,filename) {
	this.name = name;
	this.filename = filename;
};
api_PageAbstract.__name__ = ["api","PageAbstract"];
api_PageAbstract.schema = function() {
	return thx_schema_SimpleSchema.object(api_PageAbstract.builder());
};
api_PageAbstract.builder = function() {
	var v1 = thx_schema_SchemaDSL.required("name",thx_schema_SimpleSchema.string(),function(x) {
		return x.name;
	});
	return thx_schema_ObjectSchemaExtensions.ap(thx_schema_SchemaDSL.required("filename",thx_schema_SimpleSchema.string(),function(x1) {
		return x1.filename;
	}),thx_schema_ObjectSchemaExtensions.map(v1,thx_Functions2.curry(function(name,filename) {
		return new api_PageAbstract(name,filename);
	})));
};
api_PageAbstract.prototype = {
	toString: function() {
		return "Page Abstract: " + this.name;
	}
	,__class__: api_PageAbstract
};
var api_Rest = function() {
	this.base = this.loadBase();
	thx_promise__$Promise_Promise_$Impl_$.success(this.base,function(url) {
		haxe_Log.trace("BASE",{ fileName : "Rest.hx", lineNumber : 18, className : "api.Rest", methodName : "new", customParams : [thx__$Url_Url_$Impl_$.toString(url)]});
	});
	this.pages = new haxe_ds_StringMap();
};
api_Rest.__name__ = ["api","Rest"];
api_Rest.getOne = function(url,schema) {
	return thx_promise__$Promise_Promise_$Impl_$.flatMapEither(thx_http_Request.make(api_Rest.requestOne(url),thx_http_ResponseType.Json).get_body(),api_Rest.mapOneSchema(schema),function(err) {
		return thx_promise__$Promise_Promise_$Impl_$.error(err);
	});
};
api_Rest.requestOne = function(url) {
	return new thx_http_RequestInfo("GET",url);
};
api_Rest.mapOneSchema = function(schema) {
	return function(o) {
		var _g = thx_schema_SchemaDynamicExtensions.parseDynamic(schema,thx_Functions.identity,o);
		switch(_g[1]) {
		case 0:
			var e = _g[2];
			return thx_promise__$Promise_Promise_$Impl_$.fail(thx__$Nel_Nel_$Impl_$.toArray(e).map(function(_) {
				return _.toString();
			}).join("\n"),{ fileName : "Rest.hx", lineNumber : 63, className : "api.Rest", methodName : "mapOneSchema"});
		case 1:
			var v = _g[2];
			return thx_promise__$Promise_Promise_$Impl_$.value(v);
		}
	};
};
api_Rest.prototype = {
	loadBase: function() {
		return thx_promise__$Promise_Promise_$Impl_$.map(thx_http_Request.make(new thx_http_RequestInfo("GET",thx__$Url_Url_$Impl_$.fromString("./config.json")),thx_http_ResponseType.Json).get_body(),thx__$Url_Url_$Impl_$.fromString);
	}
	,getSiteContents: function() {
		return this.getContent(thx__$Path_Path_$Impl_$.fromString("info"),api_SiteContents.schema());
	}
	,getPage: function(page) {
		var key = page.name;
		var _this = this.pages;
		if(!(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key))) {
			var this1 = this.pages;
			var key1 = page.name;
			var value = thx_promise__$Promise_Promise_$Impl_$.map(this.getText(thx__$Path_Path_$Impl_$.fromString(page.filename)),function(content) {
				return new api_Page(page.name,page.filename,content);
			});
			var _this1 = this1;
			if(__map_reserved[key1] != null) {
				_this1.setReserved(key1,value);
			} else {
				_this1.h[key1] = value;
			}
		}
		var key2 = page.name;
		var _this2 = this.pages;
		if(__map_reserved[key2] != null) {
			return _this2.getReserved(key2);
		} else {
			return _this2.h[key2];
		}
	}
	,getText: function(path) {
		return thx_promise__$Promise_Promise_$Impl_$.flatMapEither(this.base,function(base) {
			var path1 = path.slice(2);
			var this1 = [path[0],""].concat(thx__$Path_Path_$Impl_$.resolve(path1,false));
			var url = thx__$Url_Url_$Impl_$.concatString(base,thx__$Path_Path_$Impl_$.toString(this1));
			return thx_http_Request.make(api_Rest.requestOne(url),thx_http_ResponseType.Text).get_body();
		},function(err) {
			return thx_promise__$Promise_Promise_$Impl_$.error(err);
		});
	}
	,getContent: function(path,schema) {
		return thx_promise__$Promise_Promise_$Impl_$.flatMapEither(this.base,function(base) {
			var path1 = path.slice(2);
			var this1 = [path[0],""].concat(thx__$Path_Path_$Impl_$.resolve(path1,false));
			var url = thx__$Url_Url_$Impl_$.toString(thx__$Url_Url_$Impl_$.concatString(base,thx__$Path_Path_$Impl_$.toString(this1))) + ".json";
			return api_Rest.getOne(thx__$Url_Url_$Impl_$.fromString(url),schema);
		},function(err) {
			return thx_promise__$Promise_Promise_$Impl_$.error(err);
		});
	}
	,__class__: api_Rest
};
var api_SiteContents = function(version,pages,glyphs) {
	this.version = version;
	this.home = thx_Arrays.extract(pages,function(p) {
		return p.name == "home";
	});
	this.pages = pages;
	this.glyphs = glyphs;
	this.groups = api_Glyphs.group(glyphs);
};
api_SiteContents.__name__ = ["api","SiteContents"];
api_SiteContents.schema = function() {
	var v1 = thx_schema_SchemaDSL.required("version",thx_schema_SimpleSchema.string(),function(x) {
		return x.version;
	});
	var v2 = thx_schema_SchemaDSL.required("pages",thx_schema_SimpleSchema.array(api_PageAbstract.schema()),function(x1) {
		return x1.pages;
	});
	var f = function(version,pages,glyphs) {
		return new api_SiteContents(version,pages,glyphs);
	};
	return thx_schema_SimpleSchema.object(thx_schema_ObjectSchemaExtensions.ap(thx_schema_SchemaDSL.required("glyphs",thx_schema_SimpleSchema.array(api_Glyph.schema()),function(x2) {
		return x2.glyphs;
	}),thx_schema_ObjectSchemaExtensions.ap(v2,thx_schema_ObjectSchemaExtensions.map(v1,thx_Functions2.curry(function(a,b) {
		return function(c) {
			return f(a,b,c);
		};
	})))));
};
api_SiteContents.prototype = {
	__class__: api_SiteContents
};
var doom_core__$AttributeValue_AttributeValue_$Impl_$ = {};
doom_core__$AttributeValue_AttributeValue_$Impl_$.__name__ = ["doom","core","_AttributeValue","AttributeValue_Impl_"];
doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString = function(s) {
	return doom_core_AttributeValueImpl.StringAttribute(s);
};
var doom_core_AttributeValueImpl = { __ename__ : ["doom","core","AttributeValueImpl"], __constructs__ : ["BoolAttribute","StringAttribute","EventAttribute"] };
doom_core_AttributeValueImpl.BoolAttribute = function(b) { var $x = ["BoolAttribute",0,b]; $x.__enum__ = doom_core_AttributeValueImpl; $x.toString = $estr; return $x; };
doom_core_AttributeValueImpl.StringAttribute = function(s) { var $x = ["StringAttribute",1,s]; $x.__enum__ = doom_core_AttributeValueImpl; $x.toString = $estr; return $x; };
doom_core_AttributeValueImpl.EventAttribute = function(f) { var $x = ["EventAttribute",2,f]; $x.__enum__ = doom_core_AttributeValueImpl; $x.toString = $estr; return $x; };
var doom_core_Component = function() {
	this.isUnmounted = false;
};
doom_core_Component.__name__ = ["doom","core","Component"];
doom_core_Component.prototype = {
	render: function() {
		throw new thx_error_AbstractMethod({ fileName : "Component.hx", lineNumber : 19, className : "doom.core.Component", methodName : "render"});
	}
	,shouldRender: function() {
		return !this.isUnmounted;
	}
	,migrationFields: function() {
		return ["props","update","children"];
	}
	,didMount: function() {
	}
	,willMount: function() {
	}
	,willUpdate: function() {
	}
	,didUpdate: function() {
	}
	,didUnmount: function() {
	}
	,willUnmount: function() {
	}
	,__class__: doom_core_Component
};
var doom_core_IRender = function() { };
doom_core_IRender.__name__ = ["doom","core","IRender"];
var doom_core__$VNode_VNode_$Impl_$ = {};
doom_core__$VNode_VNode_$Impl_$.__name__ = ["doom","core","_VNode","VNode_Impl_"];
doom_core__$VNode_VNode_$Impl_$.el = function(name,attributes,children) {
	if(null == attributes) {
		attributes = new haxe_ds_StringMap();
	}
	if(null == children) {
		children = doom_core__$VNodes_VNodes_$Impl_$.children([]);
	}
	return doom_core_VNodeImpl.Element(name,attributes,children,null,null);
};
var doom_core_VNodeImpl = { __ename__ : ["doom","core","VNodeImpl"], __constructs__ : ["Element","Comment","Raw","Text","Comp","Lazy"] };
doom_core_VNodeImpl.Element = function(name,attributes,children,onMount,onUnmount) { var $x = ["Element",0,name,attributes,children,onMount,onUnmount]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
doom_core_VNodeImpl.Comment = function(comment,onMount,onUnmount) { var $x = ["Comment",1,comment,onMount,onUnmount]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
doom_core_VNodeImpl.Raw = function(code,onMount,onUnmount) { var $x = ["Raw",2,code,onMount,onUnmount]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
doom_core_VNodeImpl.Text = function(text,onMount,onUnmount) { var $x = ["Text",3,text,onMount,onUnmount]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
doom_core_VNodeImpl.Comp = function(comp) { var $x = ["Comp",4,comp]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
doom_core_VNodeImpl.Lazy = function(render) { var $x = ["Lazy",5,render]; $x.__enum__ = doom_core_VNodeImpl; $x.toString = $estr; return $x; };
var doom_core__$VNodes_VNodes_$Impl_$ = {};
doom_core__$VNodes_VNodes_$Impl_$.__name__ = ["doom","core","_VNodes","VNodes_Impl_"];
doom_core__$VNodes_VNodes_$Impl_$.children = function(children) {
	var this1 = children;
	return this1;
};
var doom_html_AttributeType = { __ename__ : ["doom","html","AttributeType"], __constructs__ : ["BooleanAttribute","Property","BooleanProperty","OverloadedBooleanAttribute","NumericAttribute","PositiveNumericAttribute","SideEffectProperty"] };
doom_html_AttributeType.BooleanAttribute = ["BooleanAttribute",0];
doom_html_AttributeType.BooleanAttribute.toString = $estr;
doom_html_AttributeType.BooleanAttribute.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.Property = ["Property",1];
doom_html_AttributeType.Property.toString = $estr;
doom_html_AttributeType.Property.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.BooleanProperty = ["BooleanProperty",2];
doom_html_AttributeType.BooleanProperty.toString = $estr;
doom_html_AttributeType.BooleanProperty.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.OverloadedBooleanAttribute = ["OverloadedBooleanAttribute",3];
doom_html_AttributeType.OverloadedBooleanAttribute.toString = $estr;
doom_html_AttributeType.OverloadedBooleanAttribute.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.NumericAttribute = ["NumericAttribute",4];
doom_html_AttributeType.NumericAttribute.toString = $estr;
doom_html_AttributeType.NumericAttribute.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.PositiveNumericAttribute = ["PositiveNumericAttribute",5];
doom_html_AttributeType.PositiveNumericAttribute.toString = $estr;
doom_html_AttributeType.PositiveNumericAttribute.__enum__ = doom_html_AttributeType;
doom_html_AttributeType.SideEffectProperty = ["SideEffectProperty",6];
doom_html_AttributeType.SideEffectProperty.toString = $estr;
doom_html_AttributeType.SideEffectProperty.__enum__ = doom_html_AttributeType;
var doom_html_Attributes = function() { };
doom_html_Attributes.__name__ = ["doom","html","Attributes"];
doom_html_Attributes.getAttribute = function(el,name) {
	var _this = doom_html_Attributes.properties;
	var prop = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(prop == null) {
		return el.getAttribute(name);
	} else {
		switch(prop[1]) {
		case 1:case 2:case 6:
			return Reflect.field(el,name);
		case 0:case 3:case 4:case 5:
			return el.getAttribute(name);
		}
	}
};
doom_html_Attributes.setDynamicAttribute = function(el,name,value) {
	var _this = doom_html_Attributes.properties;
	var prop = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(prop == null) {
		el.setAttribute(name,value);
	} else {
		switch(prop[1]) {
		case 1:case 2:case 6:
			el[name] = value;
			break;
		case 0:case 3:case 4:case 5:
			el.setAttribute(name,value);
			break;
		}
	}
	return;
};
doom_html_Attributes.setStringAttribute = function(el,name,value) {
	var _this = doom_html_Attributes.properties;
	var prop = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(prop == null) {
		el.setAttribute(name,value);
	} else {
		switch(prop[1]) {
		case 1:case 2:case 6:
			el[name] = value;
			break;
		case 0:case 3:case 4:case 5:
			el.setAttribute(name,value);
			break;
		}
	}
	return;
};
doom_html_Attributes.toggleBoolAttribute = function(el,name,value) {
	var _this = doom_html_Attributes.properties;
	var prop = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
	if(prop == null) {
		if(value) {
			el.setAttribute(name,name);
		} else {
			el.removeAttribute(name);
		}
	} else {
		switch(prop[1]) {
		case 1:case 2:case 6:
			el[name] = value;
			break;
		case 0:case 3:case 4:case 5:
			if(value) {
				el.setAttribute(name,name);
			} else {
				el.removeAttribute(name);
			}
			break;
		}
	}
	return;
};
doom_html_Attributes.removeAttribute = function(el,name) {
	el.removeAttribute(name);
};
var doom_html_Component = function() { };
doom_html_Component.__name__ = ["doom","html","Component"];
doom_html_Component.__super__ = doom_core_Component;
doom_html_Component.prototype = $extend(doom_core_Component.prototype,{
	__class__: doom_html_Component
});
var doom_html_Render = function(doc,namespaces) {
	if(null == doc) {
		this.doc = window.document;
	} else {
		this.doc = doc;
	}
	if(null == namespaces) {
		this.namespaces = new haxe_ds_StringMap();
		var key = doom_html_Render.defaultNamespaces.keys();
		while(key.hasNext()) {
			var key1 = key.next();
			var this1 = this.namespaces;
			var _this = doom_html_Render.defaultNamespaces;
			var value = __map_reserved[key1] != null ? _this.getReserved(key1) : _this.h[key1];
			var _this1 = this1;
			if(__map_reserved[key1] != null) {
				_this1.setReserved(key1,value);
			} else {
				_this1.h[key1] = value;
			}
		}
	} else {
		this.namespaces = namespaces;
	}
	this.domComponentMap = new doom_html__$Render_DomComponentMap();
};
doom_html_Render.__name__ = ["doom","html","Render"];
doom_html_Render.__interfaces__ = [doom_core_IRender];
doom_html_Render.setEvent = function(el,name,handler) {
	var f = handler;
	var a1 = el;
	el["on" + name] = function(a2) {
		f(a1,a2);
	};
};
doom_html_Render.removeEvent = function(el,name) {
	Reflect.deleteField(el,"on" + name);
};
doom_html_Render.hasEvent = function(el,name) {
	return Object.prototype.hasOwnProperty.call(el,"on" + name);
};
doom_html_Render.prototype = {
	mount: function(node,parent) {
		parent.innerHTML = "";
		var post = [];
		var n = this.generateDom(node,post);
		parent.appendChild(n);
		var _g = 0;
		while(_g < post.length) {
			var f = post[_g];
			++_g;
			f();
		}
		return n;
	}
	,stream: function(stream,parent) {
		var _gthis = this;
		var el = null;
		stream.next(function(node) {
			if(null == el) {
				el = _gthis.mount(node,parent);
			} else {
				_gthis.apply(node,el);
			}
		}).failure(function(err) {
			throw err;
		}).run();
		return;
	}
	,apply: function(node,dom) {
		var post = [];
		this.applyToNode(node,dom,dom.parentElement,post,false);
		var _g = 0;
		while(_g < post.length) {
			var f = post[_g];
			++_g;
			f();
		}
	}
	,applyToNode: function(node,dom,parent,post,tryUnmount) {
		if(null == node && null == dom) {
			return null;
		} else if(null == node) {
			if(tryUnmount) {
				this.unmountDomComponent(dom);
			}
			parent.removeChild(dom);
			return null;
		} else if(null == dom) {
			var el = this.generateDom(node,post);
			parent.appendChild(el);
			return el;
		}
		switch(node[1]) {
		case 0:
			var onUnmount = node[6];
			var onMount = node[5];
			var children = node[4];
			var attributes = node[3];
			var name = node[2];
			if(tryUnmount) {
				this.unmountDomComponent(dom);
			}
			return this.applyElementToNode(name,attributes,children,dom,parent,post);
		case 1:
			var onUnmount1 = node[4];
			var onMount1 = node[3];
			var comment = node[2];
			if(tryUnmount) {
				this.unmountDomComponent(dom);
			}
			return this.applyCommentToNode(comment,dom,parent,post);
		case 2:
			var onUnmount2 = node[4];
			var onMount2 = node[3];
			var code = node[2];
			if(tryUnmount) {
				this.unmountDomComponent(dom);
			}
			var node1 = dots_Html.parse(code);
			return this.applyNodeToNode(node1,dom,parent,true);
		case 3:
			var onUnmount3 = node[4];
			var onMount3 = node[3];
			var text = node[2];
			if(tryUnmount) {
				this.unmountDomComponent(dom);
			}
			return this.applyTextToNode(text,dom,parent,post);
		case 4:
			var comp = node[2];
			return this.applyComponentToNode(comp,dom,parent,post);
		case 5:
			var render = node[2];
			return this.applyToNode(render(),dom,parent,post,tryUnmount);
		}
	}
	,applyNodeToNode: function(srcDom,dstDom,parent,tryUnmount) {
		var _gthis = this;
		if(null == srcDom && null == dstDom) {
			return null;
		} else if(null == srcDom) {
			parent.removeChild(dstDom);
			return null;
		} else if(null == dstDom) {
			parent.appendChild(srcDom);
			return srcDom;
		}
		if(tryUnmount) {
			this.unmountDomComponent(dstDom);
		}
		if(srcDom.nodeType == dstDom.nodeType) {
			if(srcDom.nodeType == 1) {
				var srcEl = srcDom;
				var dstEl = dstDom;
				if(srcEl.tagName == dstEl.tagName) {
					this.applyElementAttributes(srcEl,dstEl);
					thx_Arrays.each(this.zipNodeListAndNodeList(srcEl.childNodes,dstEl.childNodes),function(t) {
						_gthis.applyNodeToNode(t._0,t._1,dstEl,true);
					});
					return dstDom;
				} else {
					return this.replaceChild(parent,dstDom,srcDom);
				}
			} else if(srcDom.nodeType == 8 || srcDom.nodeType == 3) {
				dstDom.textContent = srcDom.textContent;
				return dstDom;
			} else {
				return this.replaceChild(parent,dstDom,srcDom);
			}
		} else {
			return this.replaceChild(parent,dstDom,srcDom);
		}
	}
	,migrate: function(src,dst) {
		var fields = dst.migrationFields();
		var _g = 0;
		while(_g < fields.length) {
			var field = fields[_g];
			++_g;
			var f = [Reflect.field(src,field)];
			if(Reflect.isFunction(f[0])) {
				var tmp = Reflect.field(dst,field);
				f[0] = tmp;
				src[field] = (function(f1) {
					return function() {
						f1[0].apply(dst,arguments);
					};
				})(f);
			} else {
				dst[field] = f[0];
			}
		}
	}
	,applyComponentToNode: function(newComp,dom,parent,post) {
		var oldComps = this.domComponentMap.getComponents(dom);
		if(null != oldComps) {
			var oldComp = thx_Arrays.find(oldComps,function(comp) {
				return thx_Types.sameType(comp,newComp);
			});
			if(null == oldComp) {
				var _g = 0;
				while(_g < oldComps.length) {
					var oldComp1 = oldComps[_g];
					++_g;
					oldComp1.willUnmount();
					this.domComponentMap.removeByComponent(oldComp1);
					newComp.willMount();
					var node = this.renderComponent(newComp);
					newComp.apply = $bind(this,this.apply);
					var dom1 = this.applyToNode(node,dom,parent,post,false);
					newComp.node = dom1;
					post.splice(0,0,function() {
						newComp.didMount();
					});
					this.domComponentMap.set(newComp,dom1);
					oldComp1.isUnmounted = true;
					oldComp1.node = null;
					oldComp1.didUnmount();
				}
				return dom;
			} else {
				this.migrate(newComp,oldComp);
				oldComp.willUpdate();
				post.push($bind(oldComp,oldComp.didUpdate));
				if(oldComp.shouldRender()) {
					this.domComponentMap.removeByComponent(oldComp);
					var node1 = this.renderComponent(oldComp);
					var newDom = this.applyToNode(node1,dom,parent,post,false);
					oldComp.node = newDom;
					this.domComponentMap.set(oldComp,newDom);
					return newDom;
				} else {
					return dom;
				}
			}
		} else {
			newComp.willMount();
			var node2 = this.renderComponent(newComp);
			newComp.apply = $bind(this,this.apply);
			var dom2 = this.applyToNode(node2,dom,parent,post,false);
			newComp.node = dom2;
			post.splice(0,0,function() {
				newComp.didMount();
			});
			this.domComponentMap.set(newComp,dom2);
			return dom2;
		}
	}
	,unmountDomComponent: function(dom) {
		var _g1 = 0;
		var _g = dom.childNodes.length;
		while(_g1 < _g) {
			var i = _g1++;
			var child = dom.childNodes[i];
			this.unmountDomComponent(child);
		}
		var comps = this.domComponentMap.getComponents(dom);
		if(null == comps) {
			return;
		}
		var _g2 = 0;
		while(_g2 < comps.length) {
			var comp = comps[_g2];
			++_g2;
			this.unmountComponent(comp);
		}
	}
	,renderComponent: function(comp) {
		return comp.render();
	}
	,unmountComponent: function(comp) {
		this.domComponentMap.removeByComponent(comp);
		comp.willUnmount();
		comp.isUnmounted = true;
		comp.node = null;
		comp.didUnmount();
	}
	,applyElementToNode: function(name,attributes,children,dom,parent,post) {
		var _gthis = this;
		if(dom.nodeType == 1 && dom.tagName == name.toUpperCase()) {
			this.applyNodeAttributes(attributes,dom);
			thx_Arrays.each(this.zipVNodesAndNodeList(children,dom.childNodes),function(t) {
				_gthis.applyToNode(t._0,t._1,dom,post,true);
			});
			return dom;
		} else {
			var el = this.createElement(name,attributes,children,post);
			return this.replaceChild(parent,dom,el);
		}
	}
	,applyCommentToNode: function(comment,dom,parent,post) {
		if(dom.nodeType == 8) {
			dom.textContent = comment;
			return dom;
		} else {
			var el = this.doc.createComment(comment);
			return this.replaceChild(parent,dom,el);
		}
	}
	,applyTextToNode: function(text,dom,parent,post) {
		if(dom.nodeType == 3) {
			dom.textContent = text;
			return dom;
		} else {
			var el = this.doc.createTextNode(text);
			return this.replaceChild(parent,dom,el);
		}
	}
	,replaceChild: function(parent,oldDom,newDom) {
		if(oldDom == newDom) {
			return newDom;
		}
		parent.replaceChild(newDom,oldDom);
		return newDom;
	}
	,zipVNodesAndNodeList: function(vnodes,children) {
		var a = vnodes.length;
		var b = children.length;
		var len = a > b ? a : b;
		var _g = [];
		var _g2 = 0;
		var _g1 = len;
		while(_g2 < _g1) {
			var i = _g2++;
			var this1 = { _0 : vnodes[i], _1 : children[i]};
			_g.push(this1);
		}
		return _g;
	}
	,zipNodeListAndNodeList: function(left,right) {
		var a = left.length;
		var b = right.length;
		var len = a > b ? a : b;
		var _g = [];
		var _g2 = 0;
		var _g1 = len;
		while(_g2 < _g1) {
			var i = _g2++;
			var this1 = { _0 : left[i], _1 : right[i]};
			_g.push(this1);
		}
		return _g;
	}
	,applyElementAttributes: function(srcDom,dstDom) {
		var _g = [];
		var _g2 = 0;
		var _g1 = dstDom.attributes.length;
		while(_g2 < _g1) {
			var i = _g2++;
			_g.push(dstDom.attributes.item(i).name);
		}
		var dstAttrs = thx__$Set_Set_$Impl_$.createString(_g);
		var _g11 = [];
		var _g3 = 0;
		var _g21 = srcDom.attributes.length;
		while(_g3 < _g21) {
			var i1 = _g3++;
			_g11.push(srcDom.attributes.item(i1).name);
		}
		var srcAttrs = thx__$Set_Set_$Impl_$.createString(_g11);
		var result = thx__$Set_Set_$Impl_$.copy(dstAttrs);
		var item = $iterator(thx__$Set_Set_$Impl_$)(srcAttrs);
		while(item.hasNext()) {
			var item1 = item.next();
			result.remove(item1);
		}
		var removed = result;
		var key = $iterator(thx__$Set_Set_$Impl_$)(removed);
		while(key.hasNext()) {
			var key1 = key.next();
			dstDom.removeAttribute(key1);
		}
		var key2 = $iterator(thx__$Set_Set_$Impl_$)(srcAttrs);
		while(key2.hasNext()) {
			var key3 = key2.next();
			var srcValue = doom_html_Attributes.getAttribute(srcDom,key3);
			var dstValue = doom_html_Attributes.getAttribute(dstDom,key3);
			if(srcValue == dstValue) {
				continue;
			}
			doom_html_Attributes.setDynamicAttribute(dstDom,key3,srcValue);
		}
	}
	,applyNodeAttributes: function(attributes,dom) {
		var _g = [];
		var _g2 = 0;
		var _g1 = dom.attributes.length;
		while(_g2 < _g1) {
			var i = _g2++;
			_g.push(dom.attributes.item(i).name);
		}
		var domAttrs = thx__$Set_Set_$Impl_$.createString(_g);
		var _g11 = [];
		var key = attributes.keys();
		while(key.hasNext()) {
			var key1 = key.next();
			_g11.push(key1);
		}
		var vdomAttrs = thx__$Set_Set_$Impl_$.createString(_g11);
		var result = thx__$Set_Set_$Impl_$.copy(domAttrs);
		var item = $iterator(thx__$Set_Set_$Impl_$)(vdomAttrs);
		while(item.hasNext()) {
			var item1 = item.next();
			result.remove(item1);
		}
		var removed = result;
		var key2 = $iterator(thx__$Set_Set_$Impl_$)(removed);
		while(key2.hasNext()) {
			var key3 = key2.next();
			if(doom_html_Render.hasEvent(dom,key3)) {
				doom_html_Render.removeEvent(dom,key3);
			} else {
				dom.removeAttribute(key3);
			}
		}
		var key4 = $iterator(thx__$Set_Set_$Impl_$)(vdomAttrs);
		while(key4.hasNext()) {
			var key5 = key4.next();
			var _g21 = __map_reserved[key5] != null ? attributes.getReserved(key5) : attributes.h[key5];
			if(_g21 == null) {
				doom_html_Attributes.removeAttribute(dom,key5);
			} else {
				switch(_g21[1]) {
				case 0:
					var b = _g21[2];
					doom_html_Attributes.toggleBoolAttribute(dom,key5,b);
					break;
				case 1:
					var s = _g21[2];
					if(null == s && key5 == "value") {
						doom_html_Attributes.setStringAttribute(dom,key5,"");
					} else {
						var s1 = _g21[2];
						if(null == s1 || s1 == "" && key5 != "value") {
							doom_html_Attributes.removeAttribute(dom,key5);
						} else {
							var s2 = _g21[2];
							doom_html_Attributes.setStringAttribute(dom,key5,s2);
						}
					}
					break;
				case 2:
					var e = _g21[2];
					doom_html_Render.setEvent(dom,key5,(function(f) {
						return function(el,e1) {
							f[0](el,e1);
						};
					})([e]));
					break;
				}
			}
		}
	}
	,generateDom: function(node,post) {
		switch(node[1]) {
		case 0:
			var onUnmount = node[6];
			var onMount = node[5];
			var children = node[4];
			var attributes = node[3];
			var name = node[2];
			var dom = this.createElement(name,attributes,children,post);
			if(null != onMount) {
				var f = onMount;
				var a1 = this;
				var a2 = dom;
				post.push(function() {
					f(a1,a2);
				});
			}
			return dom;
		case 1:
			var onUnmount1 = node[4];
			var onMount1 = node[3];
			var comment = node[2];
			var c = this.doc.createComment(comment);
			if(null != onMount1) {
				var f1 = onMount1;
				var a11 = this;
				var a21 = c;
				post.push(function() {
					f1(a11,a21);
				});
			}
			return c;
		case 2:
			var onUnmount2 = node[4];
			var onMount2 = node[3];
			var code = node[2];
			var r = dots_Html.parse(code);
			if(null != onMount2) {
				var f2 = onMount2;
				var a12 = this;
				var a22 = r;
				post.push(function() {
					f2(a12,a22);
				});
			}
			return r;
		case 3:
			var onUnmount3 = node[4];
			var onMount3 = node[3];
			var text = node[2];
			var t = this.doc.createTextNode(text);
			if(null != onMount3) {
				var f3 = onMount3;
				var a13 = this;
				var a23 = t;
				post.push(function() {
					f3(a13,a23);
				});
			}
			return t;
		case 4:
			var comp = node[2];
			comp.willMount();
			var node1 = this.renderComponent(comp);
			var dom1 = this.generateDom(node1,post);
			comp.node = dom1;
			comp.apply = $bind(this,this.apply);
			post.splice(0,0,function() {
				comp.didMount();
			});
			this.domComponentMap.set(comp,dom1);
			return dom1;
		case 5:
			var render = node[2];
			return this.generateDom(render(),post);
		}
	}
	,createElement: function(name,attributes,children,post) {
		var colonPos = name.indexOf(":");
		var el;
		if(colonPos > 0) {
			var prefix = name.substring(0,colonPos);
			var name1 = name.substring(colonPos + 1);
			var _this = this.namespaces;
			var ns = __map_reserved[prefix] != null ? _this.getReserved(prefix) : _this.h[prefix];
			if(null == ns) {
				throw new thx_Error("element prefix \"" + prefix + "\" is not associated to any namespace. Add the right namespace to Doom.namespaces.",null,{ fileName : "Render.hx", lineNumber : 407, className : "doom.html.Render", methodName : "createElement"});
			}
			el = this.doc.createElementNS(ns,name1);
		} else {
			el = this.doc.createElement(name);
		}
		this.applyNodeAttributes(attributes,el);
		var child = HxOverrides.iter(children);
		while(child.hasNext()) {
			var child1 = child.next();
			if(null == child1) {
				continue;
			}
			var n = this.generateDom(child1,post);
			el.appendChild(n);
		}
		return el;
	}
	,__class__: doom_html_Render
};
var doom_html__$Render_DomComponentMap = function() {
	this.componentToDom = new haxe_ds_ObjectMap();
	this.domToComponent = new haxe_ds_ObjectMap();
};
doom_html__$Render_DomComponentMap.__name__ = ["doom","html","_Render","DomComponentMap"];
doom_html__$Render_DomComponentMap.prototype = {
	getComponents: function(dom) {
		if(null == dom) {
			return null;
		}
		return this.domToComponent.h[dom.__id__];
	}
	,set: function(comp,dom) {
		this.componentToDom.set(comp,dom);
		var list = this.domToComponent.h[dom.__id__];
		if(null == list) {
			list = [comp];
			this.domToComponent.set(dom,list);
		} else {
			list.push(comp);
		}
	}
	,removeByComponent: function(comp) {
		var dom = this.componentToDom.h[comp.__id__];
		this.componentToDom.remove(comp);
		var list = this.getComponents(dom);
		if(null == list) {
			return;
		}
		HxOverrides.remove(list,comp);
		if(list.length == 0) {
			this.domToComponent.remove(dom);
		}
	}
	,__class__: doom_html__$Render_DomComponentMap
};
var dots_Html = function() { };
dots_Html.__name__ = ["dots","Html"];
dots_Html.parseNodes = function(html) {
	if(!dots_Html.pattern.match(html)) {
		throw new js__$Boot_HaxeError("Invalid pattern \"" + html + "\"");
	}
	var el;
	var _g = dots_Html.pattern.matched(1).toLowerCase();
	switch(_g) {
	case "tbody":case "thead":
		el = window.document.createElement("table");
		break;
	case "td":case "th":
		el = window.document.createElement("tr");
		break;
	case "tr":
		el = window.document.createElement("tbody");
		break;
	default:
		el = window.document.createElement("div");
	}
	el.innerHTML = html;
	return el.childNodes;
};
dots_Html.parse = function(html) {
	var nodes = dots_Html.parseNodes(html);
	if(nodes.length > 1) {
		var doc = window.document.createDocumentFragment();
		while(nodes.length > 0) doc.appendChild(nodes[0]);
		return doc;
	} else {
		return nodes[0];
	}
};
var dots_Query = function() { };
dots_Query.__name__ = ["dots","Query"];
dots_Query.find = function(selector,ctx) {
	return (ctx != null ? ctx : dots_Query.doc).querySelector(selector);
};
var haxe_StackItem = { __ename__ : ["haxe","StackItem"], __constructs__ : ["CFunction","Module","FilePos","Method","LocalFunction"] };
haxe_StackItem.CFunction = ["CFunction",0];
haxe_StackItem.CFunction.toString = $estr;
haxe_StackItem.CFunction.__enum__ = haxe_StackItem;
haxe_StackItem.Module = function(m) { var $x = ["Module",1,m]; $x.__enum__ = haxe_StackItem; $x.toString = $estr; return $x; };
haxe_StackItem.FilePos = function(s,file,line) { var $x = ["FilePos",2,s,file,line]; $x.__enum__ = haxe_StackItem; $x.toString = $estr; return $x; };
haxe_StackItem.Method = function(classname,method) { var $x = ["Method",3,classname,method]; $x.__enum__ = haxe_StackItem; $x.toString = $estr; return $x; };
haxe_StackItem.LocalFunction = function(v) { var $x = ["LocalFunction",4,v]; $x.__enum__ = haxe_StackItem; $x.toString = $estr; return $x; };
var haxe_CallStack = function() { };
haxe_CallStack.__name__ = ["haxe","CallStack"];
haxe_CallStack.getStack = function(e) {
	if(e == null) {
		return [];
	}
	var oldValue = Error.prepareStackTrace;
	Error.prepareStackTrace = function(error,callsites) {
		var stack = [];
		var _g = 0;
		while(_g < callsites.length) {
			var site = callsites[_g];
			++_g;
			if(haxe_CallStack.wrapCallSite != null) {
				site = haxe_CallStack.wrapCallSite(site);
			}
			var method = null;
			var fullName = site.getFunctionName();
			if(fullName != null) {
				var idx = fullName.lastIndexOf(".");
				if(idx >= 0) {
					var className = HxOverrides.substr(fullName,0,idx);
					var methodName = HxOverrides.substr(fullName,idx + 1,null);
					method = haxe_StackItem.Method(className,methodName);
				}
			}
			stack.push(haxe_StackItem.FilePos(method,site.getFileName(),site.getLineNumber()));
		}
		return stack;
	};
	var a = haxe_CallStack.makeStack(e.stack);
	Error.prepareStackTrace = oldValue;
	return a;
};
haxe_CallStack.callStack = function() {
	try {
		throw new Error();
	} catch( e ) {
		haxe_CallStack.lastException = e;
		if (e instanceof js__$Boot_HaxeError) e = e.val;
		var a = haxe_CallStack.getStack(e);
		a.shift();
		return a;
	}
};
haxe_CallStack.exceptionStack = function() {
	return haxe_CallStack.getStack(haxe_CallStack.lastException);
};
haxe_CallStack.toString = function(stack) {
	var b = new StringBuf();
	var _g = 0;
	while(_g < stack.length) {
		var s = stack[_g];
		++_g;
		b.b += "\nCalled from ";
		haxe_CallStack.itemToString(b,s);
	}
	return b.b;
};
haxe_CallStack.itemToString = function(b,s) {
	switch(s[1]) {
	case 0:
		b.b += "a C function";
		break;
	case 1:
		var m = s[2];
		b.b += "module ";
		b.b += m == null ? "null" : "" + m;
		break;
	case 2:
		var line = s[4];
		var file = s[3];
		var s1 = s[2];
		if(s1 != null) {
			haxe_CallStack.itemToString(b,s1);
			b.b += " (";
		}
		b.b += file == null ? "null" : "" + file;
		b.b += " line ";
		b.b += line == null ? "null" : "" + line;
		if(s1 != null) {
			b.b += ")";
		}
		break;
	case 3:
		var meth = s[3];
		var cname = s[2];
		b.b += cname == null ? "null" : "" + cname;
		b.b += ".";
		b.b += meth == null ? "null" : "" + meth;
		break;
	case 4:
		var n = s[2];
		b.b += "local function #";
		b.b += n == null ? "null" : "" + n;
		break;
	}
};
haxe_CallStack.makeStack = function(s) {
	if(s == null) {
		return [];
	} else if(typeof(s) == "string") {
		var stack = s.split("\n");
		if(stack[0] == "Error") {
			stack.shift();
		}
		var m = [];
		var rie10 = new EReg("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$","");
		var _g = 0;
		while(_g < stack.length) {
			var line = stack[_g];
			++_g;
			if(rie10.match(line)) {
				var path = rie10.matched(1).split(".");
				var meth = path.pop();
				var file = rie10.matched(2);
				var line1 = Std.parseInt(rie10.matched(3));
				m.push(haxe_StackItem.FilePos(meth == "Anonymous function" ? haxe_StackItem.LocalFunction() : meth == "Global code" ? null : haxe_StackItem.Method(path.join("."),meth),file,line1));
			} else {
				m.push(haxe_StackItem.Module(StringTools.trim(line)));
			}
		}
		return m;
	} else {
		return s;
	}
};
var haxe_IMap = function() { };
haxe_IMap.__name__ = ["haxe","IMap"];
haxe_IMap.prototype = {
	__class__: haxe_IMap
};
var haxe__$Int64__$_$_$Int64 = function() { };
haxe__$Int64__$_$_$Int64.__name__ = ["haxe","_Int64","___Int64"];
var haxe_Log = function() { };
haxe_Log.__name__ = ["haxe","Log"];
haxe_Log.trace = function(v,infos) {
	js_Boot.__trace(v,infos);
};
var haxe_io_Bytes = function(data) {
	this.length = data.byteLength;
	this.b = new Uint8Array(data);
	this.b.bufferValue = data;
	data.hxBytes = this;
	data.bytes = this.b;
};
haxe_io_Bytes.__name__ = ["haxe","io","Bytes"];
haxe_io_Bytes.ofData = function(b) {
	var hb = b.hxBytes;
	if(hb != null) {
		return hb;
	}
	return new haxe_io_Bytes(b);
};
haxe_io_Bytes.prototype = {
	__class__: haxe_io_Bytes
};
var haxe_ds_IntMap = function() {
	this.h = { };
};
haxe_ds_IntMap.__name__ = ["haxe","ds","IntMap"];
haxe_ds_IntMap.__interfaces__ = [haxe_IMap];
haxe_ds_IntMap.prototype = {
	set: function(key,value) {
		this.h[key] = value;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h ) if(this.h.hasOwnProperty(key)) {
			a.push(key | 0);
		}
		return HxOverrides.iter(a);
	}
	,__class__: haxe_ds_IntMap
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
haxe_ds_ObjectMap.__name__ = ["haxe","ds","ObjectMap"];
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.prototype = {
	set: function(key,value) {
		var id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,remove: function(key) {
		var id = key.__id__;
		if(this.h.__keys__[id] == null) {
			return false;
		}
		delete(this.h[id]);
		delete(this.h.__keys__[id]);
		return true;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h.__keys__ ) {
		if(this.h.hasOwnProperty(key)) {
			a.push(this.h.__keys__[key]);
		}
		}
		return HxOverrides.iter(a);
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds_Option = { __ename__ : ["haxe","ds","Option"], __constructs__ : ["Some","None"] };
haxe_ds_Option.Some = function(v) { var $x = ["Some",0,v]; $x.__enum__ = haxe_ds_Option; $x.toString = $estr; return $x; };
haxe_ds_Option.None = ["None",1];
haxe_ds_Option.None.toString = $estr;
haxe_ds_Option.None.__enum__ = haxe_ds_Option;
var haxe_ds__$StringMap_StringMapIterator = function(map,keys) {
	this.map = map;
	this.keys = keys;
	this.index = 0;
	this.count = keys.length;
};
haxe_ds__$StringMap_StringMapIterator.__name__ = ["haxe","ds","_StringMap","StringMapIterator"];
haxe_ds__$StringMap_StringMapIterator.prototype = {
	hasNext: function() {
		return this.index < this.count;
	}
	,next: function() {
		var _this = this.map;
		var key = this.keys[this.index++];
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,__class__: haxe_ds__$StringMap_StringMapIterator
};
var haxe_ds_StringMap = function() {
	this.h = { };
};
haxe_ds_StringMap.__name__ = ["haxe","ds","StringMap"];
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	set: function(key,value) {
		if(__map_reserved[key] != null) {
			this.setReserved(key,value);
		} else {
			this.h[key] = value;
		}
	}
	,setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,__class__: haxe_ds_StringMap
};
var haxe_io_BytesBuffer = function() {
	this.b = [];
};
haxe_io_BytesBuffer.__name__ = ["haxe","io","BytesBuffer"];
haxe_io_BytesBuffer.prototype = {
	getBytes: function() {
		var bytes = new haxe_io_Bytes(new Uint8Array(this.b).buffer);
		this.b = null;
		return bytes;
	}
	,__class__: haxe_io_BytesBuffer
};
var haxe_io_Input = function() { };
haxe_io_Input.__name__ = ["haxe","io","Input"];
haxe_io_Input.prototype = {
	readByte: function() {
		throw new js__$Boot_HaxeError("Not implemented");
	}
	,readBytes: function(s,pos,len) {
		var k = len;
		var b = s.b;
		if(pos < 0 || len < 0 || pos + len > s.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		try {
			while(k > 0) {
				b[pos] = this.readByte();
				++pos;
				--k;
			}
		} catch( eof ) {
			haxe_CallStack.lastException = eof;
			if (eof instanceof js__$Boot_HaxeError) eof = eof.val;
			if( js_Boot.__instanceof(eof,haxe_io_Eof) ) {
			} else throw(eof);
		}
		return len - k;
	}
	,readAll: function(bufsize) {
		if(bufsize == null) {
			bufsize = 16384;
		}
		var buf = new haxe_io_Bytes(new ArrayBuffer(bufsize));
		var total = new haxe_io_BytesBuffer();
		try {
			while(true) {
				var len = this.readBytes(buf,0,bufsize);
				if(len == 0) {
					throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);
				}
				if(len < 0 || len > buf.length) {
					throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
				}
				var b1 = total.b;
				var b2 = buf.b;
				var _g1 = 0;
				var _g = len;
				while(_g1 < _g) {
					var i = _g1++;
					total.b.push(b2[i]);
				}
			}
		} catch( e ) {
			haxe_CallStack.lastException = e;
			if (e instanceof js__$Boot_HaxeError) e = e.val;
			if( js_Boot.__instanceof(e,haxe_io_Eof) ) {
			} else throw(e);
		}
		return total.getBytes();
	}
	,__class__: haxe_io_Input
};
var haxe_io_BytesInput = function(b,pos,len) {
	if(pos == null) {
		pos = 0;
	}
	if(len == null) {
		len = b.length - pos;
	}
	if(pos < 0 || len < 0 || pos + len > b.length) {
		throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
	}
	this.b = b.b;
	this.pos = pos;
	this.len = len;
	this.totlen = len;
};
haxe_io_BytesInput.__name__ = ["haxe","io","BytesInput"];
haxe_io_BytesInput.__super__ = haxe_io_Input;
haxe_io_BytesInput.prototype = $extend(haxe_io_Input.prototype,{
	readByte: function() {
		if(this.len == 0) {
			throw new js__$Boot_HaxeError(new haxe_io_Eof());
		}
		this.len--;
		return this.b[this.pos++];
	}
	,readBytes: function(buf,pos,len) {
		if(pos < 0 || len < 0 || pos + len > buf.length) {
			throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);
		}
		if(this.len == 0 && len > 0) {
			throw new js__$Boot_HaxeError(new haxe_io_Eof());
		}
		if(this.len < len) {
			len = this.len;
		}
		var b1 = this.b;
		var b2 = buf.b;
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			b2[pos + i] = b1[this.pos + i];
		}
		this.pos += len;
		this.len -= len;
		return len;
	}
	,__class__: haxe_io_BytesInput
});
var haxe_io_Eof = function() {
};
haxe_io_Eof.__name__ = ["haxe","io","Eof"];
haxe_io_Eof.prototype = {
	toString: function() {
		return "Eof";
	}
	,__class__: haxe_io_Eof
};
var haxe_io_Error = { __ename__ : ["haxe","io","Error"], __constructs__ : ["Blocked","Overflow","OutsideBounds","Custom"] };
haxe_io_Error.Blocked = ["Blocked",0];
haxe_io_Error.Blocked.toString = $estr;
haxe_io_Error.Blocked.__enum__ = haxe_io_Error;
haxe_io_Error.Overflow = ["Overflow",1];
haxe_io_Error.Overflow.toString = $estr;
haxe_io_Error.Overflow.__enum__ = haxe_io_Error;
haxe_io_Error.OutsideBounds = ["OutsideBounds",2];
haxe_io_Error.OutsideBounds.toString = $estr;
haxe_io_Error.OutsideBounds.__enum__ = haxe_io_Error;
haxe_io_Error.Custom = function(e) { var $x = ["Custom",3,e]; $x.__enum__ = haxe_io_Error; $x.toString = $estr; return $x; };
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = ["js","_Boot","HaxeError"];
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
js_Boot.__name__ = ["js","Boot"];
js_Boot.__unhtml = function(s) {
	return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
};
js_Boot.__trace = function(v,i) {
	var msg = i != null ? i.fileName + ":" + i.lineNumber + ": " : "";
	msg += js_Boot.__string_rec(v,"");
	if(i != null && i.customParams != null) {
		var _g = 0;
		var _g1 = i.customParams;
		while(_g < _g1.length) {
			var v1 = _g1[_g];
			++_g;
			msg += "," + js_Boot.__string_rec(v1,"");
		}
	}
	var d;
	var tmp;
	if(typeof(document) != "undefined") {
		d = document.getElementById("haxe:trace");
		tmp = d != null;
	} else {
		tmp = false;
	}
	if(tmp) {
		d.innerHTML += js_Boot.__unhtml(msg) + "<br/>";
	} else if(typeof console != "undefined" && console.log != null) {
		console.log(msg);
	}
};
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			haxe_CallStack.lastException = e;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = _g1++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return (o|0) === o;
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(o instanceof cl) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(o instanceof cl) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ == cl;
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_html_compat_ArrayBuffer = function(a) {
	if((a instanceof Array) && a.__enum__ == null) {
		this.a = a;
		this.byteLength = a.length;
	} else {
		var len = a;
		this.a = [];
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			this.a[i] = 0;
		}
		this.byteLength = len;
	}
};
js_html_compat_ArrayBuffer.__name__ = ["js","html","compat","ArrayBuffer"];
js_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var result = new ArrayBuffer(u.byteLength);
	var resultArray = new Uint8Array(result);
	resultArray.set(u);
	return result;
};
js_html_compat_ArrayBuffer.prototype = {
	slice: function(begin,end) {
		return new js_html_compat_ArrayBuffer(this.a.slice(begin,end));
	}
	,__class__: js_html_compat_ArrayBuffer
};
var js_html_compat_Uint8Array = function() { };
js_html_compat_Uint8Array.__name__ = ["js","html","compat","Uint8Array"];
js_html_compat_Uint8Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset;
		}
		if(offset == 0) {
			arr = buffer.a;
		} else {
			arr = buffer.a.slice(offset,offset + length);
		}
		arr.byteLength = arr.length;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Uint8Array._subarray;
	arr.set = js_html_compat_Uint8Array._set;
	return arr;
};
js_html_compat_Uint8Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Uint8Array._subarray = function(start,end) {
	var a = js_html_compat_Uint8Array._new(this.slice(start,end));
	a.byteOffset = start;
	return a;
};
var markdown_Node = function() { };
markdown_Node.__name__ = ["markdown","Node"];
markdown_Node.prototype = {
	__class__: markdown_Node
};
var markdown_NodeVisitor = function() { };
markdown_NodeVisitor.__name__ = ["markdown","NodeVisitor"];
markdown_NodeVisitor.prototype = {
	__class__: markdown_NodeVisitor
};
var markdown_ElementNode = function(tag,children) {
	this.tag = tag;
	this.children = children;
	this.attributes = new haxe_ds_StringMap();
};
markdown_ElementNode.__name__ = ["markdown","ElementNode"];
markdown_ElementNode.__interfaces__ = [markdown_Node];
markdown_ElementNode.empty = function(tag) {
	return new markdown_ElementNode(tag,null);
};
markdown_ElementNode.withTag = function(tag) {
	return new markdown_ElementNode(tag,[]);
};
markdown_ElementNode.text = function(tag,text) {
	return new markdown_ElementNode(tag,[new markdown_TextNode(text)]);
};
markdown_ElementNode.prototype = {
	accept: function(visitor) {
		if(visitor.visitElementBefore(this)) {
			var _g = 0;
			var _g1 = this.children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.accept(visitor);
			}
			visitor.visitElementAfter(this);
		}
	}
	,__class__: markdown_ElementNode
};
var markdown_TextNode = function(text) {
	this.text = text;
};
markdown_TextNode.__name__ = ["markdown","TextNode"];
markdown_TextNode.__interfaces__ = [markdown_Node];
markdown_TextNode.prototype = {
	accept: function(visitor) {
		visitor.visitText(this);
	}
	,__class__: markdown_TextNode
};
var markdown_BlockParser = function(lines,document) {
	this.lines = lines;
	this.document = document;
	this.pos = 0;
};
markdown_BlockParser.__name__ = ["markdown","BlockParser"];
markdown_BlockParser.prototype = {
	get_next: function() {
		if(this.pos >= this.lines.length - 1) {
			return null;
		}
		return this.lines[this.pos + 1];
	}
	,advance: function() {
		this.pos++;
	}
	,matches: function(ereg) {
		if(this.pos >= this.lines.length) {
			return false;
		}
		return ereg.match(this.lines[this.pos]);
	}
	,matchesNext: function(ereg) {
		if(this.get_next() == null) {
			return false;
		}
		return ereg.match(this.get_next());
	}
	,__class__: markdown_BlockParser
	,__properties__: {get_next:"get_next"}
};
var markdown_BlockSyntax = function() {
};
markdown_BlockSyntax.__name__ = ["markdown","BlockSyntax"];
markdown_BlockSyntax.__properties__ = {get_syntaxes:"get_syntaxes"};
markdown_BlockSyntax.get_syntaxes = function() {
	if(markdown_BlockSyntax.syntaxes == null) {
		markdown_BlockSyntax.syntaxes = [new markdown_EmptyBlockSyntax(),new markdown_BlockHtmlSyntax(),new markdown_SetextHeaderSyntax(),new markdown_HeaderSyntax(),new markdown_CodeBlockSyntax(),new markdown_GitHubCodeBlockSyntax(),new markdown_BlockquoteSyntax(),new markdown_HorizontalRuleSyntax(),new markdown_UnorderedListSyntax(),new markdown_OrderedListSyntax(),new markdown_TableSyntax(),new markdown_ParagraphSyntax()];
	}
	return markdown_BlockSyntax.syntaxes;
};
markdown_BlockSyntax.isAtBlockEnd = function(parser) {
	if(parser.pos >= parser.lines.length) {
		return true;
	}
	var _g = 0;
	var _g1 = markdown_BlockSyntax.get_syntaxes();
	while(_g < _g1.length) {
		var syntax = _g1[_g];
		++_g;
		if(syntax.canParse(parser) && syntax.get_canEndBlock()) {
			return true;
		}
	}
	return false;
};
markdown_BlockSyntax.prototype = {
	get_pattern: function() {
		return null;
	}
	,get_canEndBlock: function() {
		return true;
	}
	,canParse: function(parser) {
		return this.get_pattern().match(parser.lines[parser.pos]);
	}
	,parse: function(parser) {
		return null;
	}
	,__class__: markdown_BlockSyntax
	,__properties__: {get_canEndBlock:"get_canEndBlock",get_pattern:"get_pattern"}
};
var markdown_EmptyBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_EmptyBlockSyntax.__name__ = ["markdown","EmptyBlockSyntax"];
markdown_EmptyBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_EmptyBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_EMPTY;
	}
	,parse: function(parser) {
		parser.advance();
		return null;
	}
	,__class__: markdown_EmptyBlockSyntax
});
var markdown_SetextHeaderSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_SetextHeaderSyntax.__name__ = ["markdown","SetextHeaderSyntax"];
markdown_SetextHeaderSyntax.__super__ = markdown_BlockSyntax;
markdown_SetextHeaderSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	canParse: function(parser) {
		return parser.matchesNext(markdown_BlockSyntax.RE_SETEXT);
	}
	,parse: function(parser) {
		var re = markdown_BlockSyntax.RE_SETEXT;
		re.match(parser.get_next());
		var tag = re.matched(1).charAt(0) == "=" ? "h1" : "h2";
		var contents = parser.document.parseInline(parser.lines[parser.pos]);
		parser.advance();
		parser.advance();
		return new markdown_ElementNode(tag,contents);
	}
	,__class__: markdown_SetextHeaderSyntax
});
var markdown_HeaderSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_HeaderSyntax.__name__ = ["markdown","HeaderSyntax"];
markdown_HeaderSyntax.__super__ = markdown_BlockSyntax;
markdown_HeaderSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HEADER;
	}
	,parse: function(parser) {
		this.get_pattern().match(parser.lines[parser.pos]);
		parser.advance();
		var level = this.get_pattern().matched(1).length;
		var contents = parser.document.parseInline(StringTools.trim(this.get_pattern().matched(2)));
		return new markdown_ElementNode("h" + level,contents);
	}
	,__class__: markdown_HeaderSyntax
});
var markdown_BlockquoteSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_BlockquoteSyntax.__name__ = ["markdown","BlockquoteSyntax"];
markdown_BlockquoteSyntax.__super__ = markdown_BlockSyntax;
markdown_BlockquoteSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_BLOCKQUOTE;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length) if(this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(this.get_pattern().matched(1));
			parser.advance();
		} else {
			var nextMatch = parser.get_next() != null && this.get_pattern().match(parser.get_next());
			if(StringTools.trim(parser.lines[parser.pos]) == "" && nextMatch) {
				childLines.push("");
				childLines.push(this.get_pattern().matched(1));
				parser.advance();
				parser.advance();
			} else {
				break;
			}
		}
		return childLines;
	}
	,parse: function(parser) {
		var childLines = this.parseChildLines(parser);
		var children = parser.document.parseLines(childLines);
		return new markdown_ElementNode("blockquote",children);
	}
	,__class__: markdown_BlockquoteSyntax
});
var markdown_CodeBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_CodeBlockSyntax.__name__ = ["markdown","CodeBlockSyntax"];
markdown_CodeBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_CodeBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_INDENT;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length) if(this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(this.get_pattern().matched(1));
			parser.advance();
		} else {
			var nextMatch = parser.get_next() != null && this.get_pattern().match(parser.get_next());
			if(StringTools.trim(parser.lines[parser.pos]) == "" && nextMatch) {
				childLines.push("");
				childLines.push(this.get_pattern().matched(1));
				parser.advance();
				parser.advance();
			} else {
				break;
			}
		}
		return childLines;
	}
	,parse: function(parser) {
		var childLines = this.parseChildLines(parser);
		childLines.push("");
		var escaped = StringTools.htmlEscape(childLines.join("\n"));
		return new markdown_ElementNode("pre",[markdown_ElementNode.text("code",escaped)]);
	}
	,__class__: markdown_CodeBlockSyntax
});
var markdown_GitHubCodeBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_GitHubCodeBlockSyntax.__name__ = ["markdown","GitHubCodeBlockSyntax"];
markdown_GitHubCodeBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_GitHubCodeBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_CODE;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		parser.advance();
		while(parser.pos < parser.lines.length) if(!this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(parser.lines[parser.pos]);
			parser.advance();
		} else {
			parser.advance();
			break;
		}
		return childLines;
	}
	,parse: function(parser) {
		var syntax = this.get_pattern().matched(1);
		var childLines = this.parseChildLines(parser);
		var code = markdown_ElementNode.text("code",StringTools.htmlEscape(childLines.join("\n")));
		if(syntax != null && syntax.length > 0) {
			var _this = code.attributes;
			var value = "prettyprint " + syntax;
			if(__map_reserved["class"] != null) {
				_this.setReserved("class",value);
			} else {
				_this.h["class"] = value;
			}
		}
		return new markdown_ElementNode("pre",[code]);
	}
	,__class__: markdown_GitHubCodeBlockSyntax
});
var markdown_HorizontalRuleSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_HorizontalRuleSyntax.__name__ = ["markdown","HorizontalRuleSyntax"];
markdown_HorizontalRuleSyntax.__super__ = markdown_BlockSyntax;
markdown_HorizontalRuleSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HR;
	}
	,parse: function(parser) {
		parser.advance();
		return markdown_ElementNode.empty("hr");
	}
	,__class__: markdown_HorizontalRuleSyntax
});
var markdown_BlockHtmlSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_BlockHtmlSyntax.__name__ = ["markdown","BlockHtmlSyntax"];
markdown_BlockHtmlSyntax.__super__ = markdown_BlockSyntax;
markdown_BlockHtmlSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HTML;
	}
	,get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length && !parser.matches(markdown_BlockSyntax.RE_EMPTY)) {
			childLines.push(parser.lines[parser.pos]);
			parser.advance();
		}
		return new markdown_TextNode(childLines.join("\n"));
	}
	,__class__: markdown_BlockHtmlSyntax
});
var markdown_ListItem = function(lines) {
	this.forceBlock = false;
	this.lines = lines;
};
markdown_ListItem.__name__ = ["markdown","ListItem"];
markdown_ListItem.prototype = {
	__class__: markdown_ListItem
};
var markdown_ParagraphSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_ParagraphSyntax.__name__ = ["markdown","ParagraphSyntax"];
markdown_ParagraphSyntax.__super__ = markdown_BlockSyntax;
markdown_ParagraphSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_canEndBlock: function() {
		return false;
	}
	,canParse: function(parser) {
		return true;
	}
	,parse: function(parser) {
		var childLines = [];
		while(!markdown_BlockSyntax.isAtBlockEnd(parser)) {
			childLines.push(StringTools.ltrim(parser.lines[parser.pos]));
			parser.advance();
		}
		var contents = parser.document.parseInline(childLines.join("\n"));
		return new markdown_ElementNode("p",contents);
	}
	,__class__: markdown_ParagraphSyntax
});
var markdown_ListSyntax = function(listTag) {
	markdown_BlockSyntax.call(this);
	this.listTag = listTag;
};
markdown_ListSyntax.__name__ = ["markdown","ListSyntax"];
markdown_ListSyntax.__super__ = markdown_BlockSyntax;
markdown_ListSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var items = [];
		var childLines = [];
		var endItem = function() {
			if(childLines.length > 0) {
				items.push(new markdown_ListItem(childLines));
				childLines = [];
			}
		};
		var match;
		var tryMatch = function(pattern) {
			match = pattern;
			return pattern.match(parser.lines[parser.pos]);
		};
		while(parser.pos < parser.lines.length) {
			if(tryMatch(markdown_BlockSyntax.RE_EMPTY)) {
				childLines.push("");
			} else if(tryMatch(markdown_BlockSyntax.RE_UL) || tryMatch(markdown_BlockSyntax.RE_OL)) {
				endItem();
				var tmp = match.matched(1);
				childLines.push(tmp);
			} else if(tryMatch(markdown_BlockSyntax.RE_INDENT)) {
				var tmp1 = match.matched(1);
				childLines.push(tmp1);
			} else if(markdown_BlockSyntax.isAtBlockEnd(parser)) {
				break;
			} else {
				if(childLines.length > 0 && childLines[childLines.length - 1] == "") {
					break;
				}
				childLines.push(parser.lines[parser.pos]);
			}
			parser.advance();
		}
		endItem();
		var _g1 = 0;
		var _g = items.length;
		while(_g1 < _g) {
			var i = _g1++;
			var len = items[i].lines.length;
			var _g3 = 1;
			var _g2 = len + 1;
			while(_g3 < _g2) {
				var jj = _g3++;
				var j = len - jj;
				if(markdown_BlockSyntax.RE_EMPTY.match(items[i].lines[j])) {
					if(i < items.length - 1) {
						items[i].forceBlock = true;
						items[i + 1].forceBlock = true;
					}
					items[i].lines.pop();
				} else {
					break;
				}
			}
		}
		var itemNodes = [];
		var _g4 = 0;
		while(_g4 < items.length) {
			var item = items[_g4];
			++_g4;
			var blockItem = item.forceBlock || item.lines.length > 1;
			var blocksInList = [markdown_BlockSyntax.RE_BLOCKQUOTE,markdown_BlockSyntax.RE_HEADER,markdown_BlockSyntax.RE_HR,markdown_BlockSyntax.RE_INDENT,markdown_BlockSyntax.RE_UL,markdown_BlockSyntax.RE_OL];
			if(!blockItem) {
				var _g11 = 0;
				while(_g11 < blocksInList.length) {
					var pattern1 = blocksInList[_g11];
					++_g11;
					if(pattern1.match(item.lines[0])) {
						blockItem = true;
						break;
					}
				}
			}
			if(blockItem) {
				var children = parser.document.parseLines(item.lines);
				if(!item.forceBlock && children.length == 1) {
					if(js_Boot.__instanceof(children[0],markdown_ElementNode)) {
						var node = children[0];
						if(node.tag == "p") {
							children = node.children;
						}
					}
				}
				itemNodes.push(new markdown_ElementNode("li",children));
			} else {
				var contents = parser.document.parseInline(item.lines[0]);
				itemNodes.push(new markdown_ElementNode("li",contents));
			}
		}
		return new markdown_ElementNode(this.listTag,itemNodes);
	}
	,__class__: markdown_ListSyntax
});
var markdown_UnorderedListSyntax = function() {
	markdown_ListSyntax.call(this,"ul");
};
markdown_UnorderedListSyntax.__name__ = ["markdown","UnorderedListSyntax"];
markdown_UnorderedListSyntax.__super__ = markdown_ListSyntax;
markdown_UnorderedListSyntax.prototype = $extend(markdown_ListSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_UL;
	}
	,__class__: markdown_UnorderedListSyntax
});
var markdown_OrderedListSyntax = function() {
	markdown_ListSyntax.call(this,"ol");
};
markdown_OrderedListSyntax.__name__ = ["markdown","OrderedListSyntax"];
markdown_OrderedListSyntax.__super__ = markdown_ListSyntax;
markdown_OrderedListSyntax.prototype = $extend(markdown_ListSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_OL;
	}
	,__class__: markdown_OrderedListSyntax
});
var markdown_TableSyntax = function() {
	markdown_BlockSyntax.call(this);
};
markdown_TableSyntax.__name__ = ["markdown","TableSyntax"];
markdown_TableSyntax.__super__ = markdown_BlockSyntax;
markdown_TableSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_TableSyntax.TABLE_PATTERN;
	}
	,get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var lines = [];
		while(parser.pos < parser.lines.length && parser.matches(markdown_TableSyntax.TABLE_PATTERN)) {
			lines.push(parser.lines[parser.pos]);
			parser.advance();
		}
		var heads = [];
		var rows = [];
		var headLine = lines.shift();
		var alignLine = lines.shift();
		var aligns = [];
		if(alignLine != null) {
			markdown_TableSyntax.CELL_PATTERN.map(alignLine,function(e) {
				var text = e.matched(2);
				var align = text.charAt(0) == ":" ? text.charAt(text.length - 1) == ":" ? "center" : "left" : text.charAt(text.length - 1) == ":" ? "right" : "left";
				aligns.push(align);
				return "";
			});
		}
		var index = 0;
		markdown_TableSyntax.CELL_PATTERN.map(headLine,function(e1) {
			var text1 = StringTools.trim(e1.matched(2));
			var cell = new markdown_ElementNode("th",parser.document.parseInline(text1));
			if(aligns[index] != "left") {
				var _this = cell.attributes;
				var value = aligns[index];
				if(__map_reserved["align"] != null) {
					_this.setReserved("align",value);
				} else {
					_this.h["align"] = value;
				}
			}
			heads.push(cell);
			index += 1;
			return "";
		});
		var _g = 0;
		while(_g < lines.length) {
			var line = lines[_g];
			++_g;
			var cols = [[]];
			rows.push(new markdown_ElementNode("tr",cols[0]));
			var index1 = [0];
			markdown_TableSyntax.CELL_PATTERN.map(line,(function(index2,cols1) {
				return function(e2) {
					var text2 = StringTools.trim(e2.matched(2));
					var cell1 = new markdown_ElementNode("td",parser.document.parseInline(text2));
					if(aligns[index2[0]] != "left") {
						var _this1 = cell1.attributes;
						var value1 = aligns[index2[0]];
						if(__map_reserved["align"] != null) {
							_this1.setReserved("align",value1);
						} else {
							_this1.h["align"] = value1;
						}
					}
					cols1[0].push(cell1);
					index2[0] += 1;
					return "";
				};
			})(index1,cols));
		}
		return new markdown_ElementNode("table",[new markdown_ElementNode("thead",heads),new markdown_ElementNode("tbody",rows)]);
	}
	,__class__: markdown_TableSyntax
});
var markdown_HtmlRenderer = function() {
};
markdown_HtmlRenderer.__name__ = ["markdown","HtmlRenderer"];
markdown_HtmlRenderer.__interfaces__ = [markdown_NodeVisitor];
markdown_HtmlRenderer.sortAttributes = function(a,b) {
	var ia = markdown_HtmlRenderer.attributeOrder.indexOf(a);
	var ib = markdown_HtmlRenderer.attributeOrder.indexOf(a);
	if(ia > -1 && ib > -1) {
		return ia - ib;
	}
	return Reflect.compare(a,b);
};
markdown_HtmlRenderer.prototype = {
	render: function(nodes) {
		this.buffer = new StringBuf();
		var _g = 0;
		while(_g < nodes.length) {
			var node = nodes[_g];
			++_g;
			node.accept(this);
		}
		return this.buffer.b;
	}
	,visitText: function(text) {
		this.buffer.b += Std.string(text.text);
	}
	,visitElementBefore: function(element) {
		if(this.buffer.b != "" && markdown_HtmlRenderer.BLOCK_TAGS.match(element.tag)) {
			this.buffer.b += "\n";
		}
		this.buffer.b += Std.string("<" + element.tag);
		var _g = [];
		var k = element.attributes.keys();
		while(k.hasNext()) {
			var k1 = k.next();
			_g.push(k1);
		}
		var attributeNames = _g;
		attributeNames.sort(markdown_HtmlRenderer.sortAttributes);
		var _g1 = 0;
		while(_g1 < attributeNames.length) {
			var name = attributeNames[_g1];
			++_g1;
			var _this = this.buffer;
			var _this1 = element.attributes;
			var x = __map_reserved[name] != null ? _this1.getReserved(name) : _this1.h[name];
			_this.b += Std.string(" " + name + "=\"" + x + "\"");
		}
		if(element.children == null) {
			this.buffer.b += " />";
			return false;
		} else {
			this.buffer.b += ">";
			return true;
		}
	}
	,visitElementAfter: function(element) {
		this.buffer.b += Std.string("</" + element.tag + ">");
	}
	,__class__: markdown_HtmlRenderer
};
var markdown_InlineSyntax = function(pattern) {
	this.pattern = new EReg(pattern,"m");
};
markdown_InlineSyntax.__name__ = ["markdown","InlineSyntax"];
markdown_InlineSyntax.prototype = {
	tryMatch: function(parser) {
		if(this.pattern.match(parser.get_currentSource()) && this.pattern.matchedPos().pos == 0) {
			parser.writeText();
			if(this.onMatch(parser)) {
				parser.consume(this.pattern.matched(0).length);
			}
			return true;
		}
		return false;
	}
	,onMatch: function(parser) {
		return false;
	}
	,__class__: markdown_InlineSyntax
};
var markdown_AutolinkSyntaxWithoutBrackets = function() {
	markdown_InlineSyntax.call(this,"\\b((http|https|ftp)://[^\\s]*)\\b");
};
markdown_AutolinkSyntaxWithoutBrackets.__name__ = ["markdown","AutolinkSyntaxWithoutBrackets"];
markdown_AutolinkSyntaxWithoutBrackets.__super__ = markdown_InlineSyntax;
markdown_AutolinkSyntaxWithoutBrackets.prototype = $extend(markdown_InlineSyntax.prototype,{
	tryMatch: function(parser) {
		return markdown_InlineSyntax.prototype.tryMatch.call(this,parser);
	}
	,onMatch: function(parser) {
		var url = this.pattern.matched(1);
		var anchor = markdown_ElementNode.text("a",StringTools.htmlEscape(url));
		var _this = anchor.attributes;
		if(__map_reserved["href"] != null) {
			_this.setReserved("href",url);
		} else {
			_this.h["href"] = url;
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_AutolinkSyntaxWithoutBrackets
});
var markdown_TextSyntax = function(pattern,substitute) {
	markdown_InlineSyntax.call(this,pattern);
	this.substitute = substitute;
};
markdown_TextSyntax.__name__ = ["markdown","TextSyntax"];
markdown_TextSyntax.__super__ = markdown_InlineSyntax;
markdown_TextSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		if(this.substitute == null) {
			parser.advanceBy(this.pattern.matched(0).length);
			return false;
		}
		parser.addNode(parser.createText(this.substitute));
		return true;
	}
	,__class__: markdown_TextSyntax
});
var markdown_AutolinkSyntax = function() {
	markdown_InlineSyntax.call(this,"<((http|https|ftp)://[^>]*)>");
};
markdown_AutolinkSyntax.__name__ = ["markdown","AutolinkSyntax"];
markdown_AutolinkSyntax.__super__ = markdown_InlineSyntax;
markdown_AutolinkSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		var url = this.pattern.matched(1);
		var anchor = markdown_ElementNode.text("a",StringTools.htmlEscape(url));
		var _this = anchor.attributes;
		if(__map_reserved["href"] != null) {
			_this.setReserved("href",url);
		} else {
			_this.h["href"] = url;
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_AutolinkSyntax
});
var markdown_TagSyntax = function(pattern,tag,end) {
	markdown_InlineSyntax.call(this,pattern);
	this.tag = tag;
	this.endPattern = new EReg(end == null ? pattern : end,"m");
};
markdown_TagSyntax.__name__ = ["markdown","TagSyntax"];
markdown_TagSyntax.__super__ = markdown_InlineSyntax;
markdown_TagSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		parser.stack.push(new markdown_TagState(parser.pos,parser.pos + this.pattern.matched(0).length,this));
		return true;
	}
	,onMatchEnd: function(parser,state) {
		parser.addNode(new markdown_ElementNode(this.tag,state.children));
		return true;
	}
	,__class__: markdown_TagSyntax
});
var markdown_LinkSyntax = function(linkResolver) {
	markdown_TagSyntax.call(this,"\\[",null,markdown_LinkSyntax.linkPattern);
	this.linkResolver = linkResolver;
};
markdown_LinkSyntax.__name__ = ["markdown","LinkSyntax"];
markdown_LinkSyntax.__super__ = markdown_TagSyntax;
markdown_LinkSyntax.prototype = $extend(markdown_TagSyntax.prototype,{
	onMatchEnd: function(parser,state) {
		var url;
		var title;
		if(this.endPattern.matched(1) == null || this.endPattern.matched(1) == "") {
			if(this.linkResolver == null) {
				return false;
			}
			if(state.children.length != 1) {
				return false;
			}
			if(!js_Boot.__instanceof(state.children[0],markdown_TextNode)) {
				return false;
			}
			var link = state.children[0];
			var node = this.linkResolver(link.text);
			if(node == null) {
				return false;
			}
			parser.addNode(node);
			return true;
		}
		if(this.endPattern.matched(3) != null && this.endPattern.matched(3) != "") {
			url = this.endPattern.matched(3);
			title = this.endPattern.matched(4);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = url.substring(1,url.length - 1);
			}
		} else {
			var id = this.endPattern.matched(2);
			if(id == "") {
				id = parser.source.substring(state.startPos + 1,parser.pos);
			}
			id = id.toLowerCase();
			var _this = parser.document.refLinks;
			var link1 = __map_reserved[id] != null ? _this.getReserved(id) : _this.h[id];
			if(link1 == null) {
				return false;
			}
			url = link1.url;
			title = link1.title;
		}
		var anchor = new markdown_ElementNode("a",state.children);
		var this1 = anchor.attributes;
		var value = StringTools.htmlEscape(url);
		var _this1 = this1;
		if(__map_reserved["href"] != null) {
			_this1.setReserved("href",value);
		} else {
			_this1.h["href"] = value;
		}
		if(title != null && title != "") {
			var this2 = anchor.attributes;
			var value1 = StringTools.htmlEscape(title);
			var _this2 = this2;
			if(__map_reserved["title"] != null) {
				_this2.setReserved("title",value1);
			} else {
				_this2.h["title"] = value1;
			}
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_LinkSyntax
});
var markdown_ImgSyntax = function(linkResolver) {
	markdown_TagSyntax.call(this,"!\\[",null,markdown_ImgSyntax.linkPattern);
	this.linkResolver = linkResolver;
};
markdown_ImgSyntax.__name__ = ["markdown","ImgSyntax"];
markdown_ImgSyntax.__super__ = markdown_TagSyntax;
markdown_ImgSyntax.prototype = $extend(markdown_TagSyntax.prototype,{
	onMatchEnd: function(parser,state) {
		var url;
		var title;
		if(this.endPattern.matched(1) == null || this.endPattern.matched(1) == "") {
			if(this.linkResolver == null) {
				return false;
			}
			if(state.children.length != 1) {
				return false;
			}
			if(!js_Boot.__instanceof(state.children[0],markdown_TextNode)) {
				return false;
			}
			var link = state.children[0];
			var node = this.linkResolver(link.text);
			if(node == null) {
				return false;
			}
			parser.addNode(node);
			return true;
		}
		if(this.endPattern.matched(3) != null && this.endPattern.matched(3) != "") {
			url = this.endPattern.matched(3);
			title = this.endPattern.matched(4);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = url.substring(1,url.length - 1);
			}
		} else {
			var id = this.endPattern.matched(2);
			if(id == "") {
				id = parser.source.substring(state.startPos + 1,parser.pos);
			}
			id = id.toLowerCase();
			var _this = parser.document.refLinks;
			var link1 = __map_reserved[id] != null ? _this.getReserved(id) : _this.h[id];
			if(link1 == null) {
				return false;
			}
			url = link1.url;
			title = link1.title;
		}
		var img = new markdown_ElementNode("img",null);
		var this1 = img.attributes;
		var value = StringTools.htmlEscape(url);
		var _this1 = this1;
		if(__map_reserved["src"] != null) {
			_this1.setReserved("src",value);
		} else {
			_this1.h["src"] = value;
		}
		if(state.children.length == 1 && js_Boot.__instanceof(state.children[0],markdown_TextNode)) {
			var alt = state.children[0];
			var value1 = alt.text;
			var _this2 = img.attributes;
			if(__map_reserved["alt"] != null) {
				_this2.setReserved("alt",value1);
			} else {
				_this2.h["alt"] = value1;
			}
		}
		if(title != null && title != "") {
			var this2 = img.attributes;
			var value2 = StringTools.htmlEscape(title);
			var _this3 = this2;
			if(__map_reserved["title"] != null) {
				_this3.setReserved("title",value2);
			} else {
				_this3.h["title"] = value2;
			}
		}
		parser.addNode(img);
		return true;
	}
	,__class__: markdown_ImgSyntax
});
var markdown_CodeSyntax = function(pattern) {
	markdown_InlineSyntax.call(this,pattern);
};
markdown_CodeSyntax.__name__ = ["markdown","CodeSyntax"];
markdown_CodeSyntax.__super__ = markdown_InlineSyntax;
markdown_CodeSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		parser.addNode(markdown_ElementNode.text("code",StringTools.htmlEscape(this.pattern.matched(1))));
		return true;
	}
	,__class__: markdown_CodeSyntax
});
var markdown_InlineParser = function(source,document) {
	this.start = 0;
	this.pos = 0;
	this.source = source;
	this.document = document;
	this.stack = [];
	if(document.inlineSyntaxes != null) {
		this.syntaxes = [];
		var _g = 0;
		var _g1 = document.inlineSyntaxes;
		while(_g < _g1.length) {
			var syntax = _g1[_g];
			++_g;
			this.syntaxes.push(syntax);
		}
		var _g2 = 0;
		var _g11 = markdown_InlineParser.defaultSyntaxes;
		while(_g2 < _g11.length) {
			var syntax1 = _g11[_g2];
			++_g2;
			this.syntaxes.push(syntax1);
		}
	} else {
		this.syntaxes = markdown_InlineParser.defaultSyntaxes;
	}
	var _this = this.syntaxes;
	var x = new markdown_LinkSyntax(document.linkResolver);
	_this.splice(1,0,x);
};
markdown_InlineParser.__name__ = ["markdown","InlineParser"];
markdown_InlineParser.prototype = {
	parse: function() {
		this.stack.push(new markdown_TagState(0,0,null));
		while(!this.get_isDone()) {
			var matched = false;
			var _g1 = 1;
			var _g = this.stack.length;
			while(_g1 < _g) {
				var i = _g1++;
				if(this.stack[this.stack.length - i].tryMatch(this)) {
					matched = true;
					break;
				}
			}
			if(matched) {
				continue;
			}
			var _g2 = 0;
			var _g11 = this.syntaxes;
			while(_g2 < _g11.length) {
				var syntax = _g11[_g2];
				++_g2;
				if(syntax.tryMatch(this)) {
					matched = true;
					break;
				}
			}
			if(matched) {
				continue;
			}
			this.advanceBy(1);
		}
		return this.stack[0].close(this);
	}
	,writeText: function() {
		this.writeTextRange(this.start,this.pos);
		this.start = this.pos;
	}
	,writeTextRange: function(start,end) {
		if(end > start) {
			var text = this.source.substring(start,end);
			var nodes = this.stack[this.stack.length - 1].children;
			if(nodes.length > 0 && js_Boot.__instanceof(nodes[nodes.length - 1],markdown_TextNode)) {
				var lastNode = nodes[nodes.length - 1];
				var newNode = this.createText("" + lastNode.text + text);
				nodes[nodes.length - 1] = newNode;
			} else {
				nodes.push(this.createText(text));
			}
		}
	}
	,createText: function(text) {
		return new markdown_TextNode(this.unescape(text));
	}
	,addNode: function(node) {
		this.stack[this.stack.length - 1].children.push(node);
	}
	,get_currentSource: function() {
		return this.source.substring(this.pos,this.source.length);
	}
	,get_isDone: function() {
		return this.pos == this.source.length;
	}
	,advanceBy: function(length) {
		this.pos += length;
	}
	,consume: function(length) {
		this.pos += length;
		this.start = this.pos;
	}
	,unescape: function(text) {
		var _this_r = new RegExp("\\\\([\\\\`*_{}[\\]()#+-.!])","g".split("u").join(""));
		text = text.replace(_this_r,"$1");
		text = StringTools.replace(text,"\t","    ");
		return text;
	}
	,__class__: markdown_InlineParser
	,__properties__: {get_isDone:"get_isDone",get_currentSource:"get_currentSource"}
};
var markdown_TagState = function(startPos,endPos,syntax) {
	this.startPos = startPos;
	this.endPos = endPos;
	this.syntax = syntax;
	this.children = [];
};
markdown_TagState.__name__ = ["markdown","TagState"];
markdown_TagState.prototype = {
	tryMatch: function(parser) {
		if(this.syntax.endPattern.match(parser.get_currentSource()) && this.syntax.endPattern.matchedPos().pos == 0) {
			this.close(parser);
			return true;
		}
		return false;
	}
	,close: function(parser) {
		var index = parser.stack.indexOf(this);
		var unmatchedTags = parser.stack.splice(index + 1,parser.stack.length - index);
		var _g = 0;
		while(_g < unmatchedTags.length) {
			var unmatched = unmatchedTags[_g];
			++_g;
			parser.writeTextRange(unmatched.startPos,unmatched.endPos);
			var _g1 = 0;
			var _g2 = unmatched.children;
			while(_g1 < _g2.length) {
				var child = _g2[_g1];
				++_g1;
				this.children.push(child);
			}
		}
		parser.writeText();
		parser.stack.pop();
		if(parser.stack.length == 0) {
			return this.children;
		}
		if(this.syntax.onMatchEnd(parser,this)) {
			parser.consume(this.syntax.endPattern.matched(0).length);
		} else {
			parser.start = this.startPos;
			parser.advanceBy(this.syntax.endPattern.matched(0).length);
		}
		return null;
	}
	,__class__: markdown_TagState
};
var thx_Arrays = function() { };
thx_Arrays.__name__ = ["thx","Arrays"];
thx_Arrays.append = function(array,element) {
	array.push(element);
	return array;
};
thx_Arrays.each = function(arr,effect) {
	var _g1 = 0;
	var _g = arr.length;
	while(_g1 < _g) {
		var i = _g1++;
		effect(arr[i]);
	}
};
thx_Arrays.all = function(arr,predicate) {
	var _g1 = 0;
	var _g = arr.length;
	while(_g1 < _g) {
		var i = _g1++;
		if(!predicate(arr[i])) {
			return false;
		}
	}
	return true;
};
thx_Arrays.extract = function(a,predicate) {
	var _g1 = 0;
	var _g = a.length;
	while(_g1 < _g) {
		var i = _g1++;
		if(predicate(a[i])) {
			return a.splice(i,1)[0];
		}
	}
	return null;
};
thx_Arrays.find = function(array,predicate) {
	var _g = 0;
	while(_g < array.length) {
		var element = array[_g];
		++_g;
		if(predicate(element)) {
			return element;
		}
	}
	return null;
};
thx_Arrays.findOption = function(array,predicate) {
	var _g = 0;
	while(_g < array.length) {
		var element = array[_g];
		++_g;
		if(predicate(element)) {
			return haxe_ds_Option.Some(element);
		}
	}
	return haxe_ds_Option.None;
};
thx_Arrays.order = function(array,sort) {
	var n = array.slice();
	n.sort(sort);
	return n;
};
thx_Arrays.reduce = function(array,f,initial) {
	var _g = 0;
	while(_g < array.length) {
		var v = array[_g];
		++_g;
		initial = f(initial,v);
	}
	return initial;
};
thx_Arrays.reducei = function(array,f,initial) {
	var _g1 = 0;
	var _g = array.length;
	while(_g1 < _g) {
		var i = _g1++;
		initial = f(initial,array[i],i);
	}
	return initial;
};
thx_Arrays.traverseValidation = function(arr,f,s) {
	return thx_Arrays.reduce(arr,function(acc,t) {
		return thx__$Validation_Validation_$Impl_$.ap(f(t),thx__$Validation_Validation_$Impl_$.map(acc,function(ux) {
			return function(u) {
				ux.push(u);
				return ux;
			};
		}),s);
	},thx_Either.Right([]));
};
thx_Arrays.traverseValidationIndexed = function(arr,f,s) {
	return thx_Arrays.reducei(arr,function(acc,t,i) {
		return thx__$Validation_Validation_$Impl_$.ap(f(t,i),thx__$Validation_Validation_$Impl_$.map(acc,function(ux) {
			return function(u) {
				ux.push(u);
				return ux;
			};
		}),s);
	},thx_Either.Right([]));
};
thx_Arrays.toStringMap = function(arr) {
	return thx_Arrays.reduce(arr,function(acc,t) {
		var key = t._0;
		var value = t._1;
		if(__map_reserved[key] != null) {
			acc.setReserved(key,value);
		} else {
			acc.h[key] = value;
		}
		return acc;
	},new haxe_ds_StringMap());
};
var thx_ArrayStrings = function() { };
thx_ArrayStrings.__name__ = ["thx","ArrayStrings"];
thx_ArrayStrings.compact = function(arr) {
	return arr.filter(function(v) {
		return !thx_Strings.isEmpty(v);
	});
};
var thx_Bools = function() { };
thx_Bools.__name__ = ["thx","Bools"];
thx_Bools.canParse = function(v) {
	var _g = v.toLowerCase();
	if(_g == null) {
		return true;
	} else {
		switch(_g) {
		case "0":case "1":case "false":case "off":case "on":case "true":
			return true;
		default:
			return false;
		}
	}
};
thx_Bools.parse = function(v) {
	var _g = v.toLowerCase();
	if(_g == null) {
		return false;
	} else {
		switch(_g) {
		case "1":case "on":case "true":
			return true;
		case "0":case "false":case "off":
			return false;
		default:
			var v1 = _g;
			throw new js__$Boot_HaxeError("unable to parse \"" + v1 + "\"");
		}
	}
};
var thx_Either = { __ename__ : ["thx","Either"], __constructs__ : ["Left","Right"] };
thx_Either.Left = function(value) { var $x = ["Left",0,value]; $x.__enum__ = thx_Either; $x.toString = $estr; return $x; };
thx_Either.Right = function(value) { var $x = ["Right",1,value]; $x.__enum__ = thx_Either; $x.toString = $estr; return $x; };
var thx_Eithers = function() { };
thx_Eithers.__name__ = ["thx","Eithers"];
thx_Eithers.map = function(either,f) {
	switch(either[1]) {
	case 0:
		var v = either[2];
		return thx_Either.Left(v);
	case 1:
		var v1 = either[2];
		return thx_Either.Right(f(v1));
	}
};
thx_Eithers.leftMap = function(either,f) {
	switch(either[1]) {
	case 0:
		var v = either[2];
		return thx_Either.Left(f(v));
	case 1:
		var v1 = either[2];
		return thx_Either.Right(v1);
	}
};
var thx_Error = function(message,stack,pos) {
	Error.call(this,message);
	this.message = message;
	if(null == stack) {
		try {
			stack = haxe_CallStack.exceptionStack();
		} catch( e ) {
			haxe_CallStack.lastException = e;
			stack = [];
		}
		if(stack.length == 0) {
			try {
				stack = haxe_CallStack.callStack();
			} catch( e1 ) {
				haxe_CallStack.lastException = e1;
				stack = [];
			}
		}
	}
	this.stackItems = stack;
	this.pos = pos;
};
thx_Error.__name__ = ["thx","Error"];
thx_Error.fromDynamic = function(err,pos) {
	if(js_Boot.__instanceof(err,thx_Error)) {
		return err;
	}
	return new thx_error_ErrorWrapper("" + Std.string(err),err,null,pos);
};
thx_Error.__super__ = Error;
thx_Error.prototype = $extend(Error.prototype,{
	toString: function() {
		return this.message + "\nfrom: " + this.getPosition() + "\n\n" + this.stackToString();
	}
	,getPosition: function() {
		return this.pos.className + "." + this.pos.methodName + "() at " + this.pos.lineNumber;
	}
	,stackToString: function() {
		return haxe_CallStack.toString(this.stackItems);
	}
	,__class__: thx_Error
});
var thx_Floats = function() { };
thx_Floats.__name__ = ["thx","Floats"];
thx_Floats.canParse = function(s) {
	return thx_Floats.pattern_parse.match(s);
};
thx_Floats.parse = function(s) {
	if(s.substring(0,1) == "+") {
		s = s.substring(1);
	}
	return parseFloat(s);
};
var thx_Functions2 = function() { };
thx_Functions2.__name__ = ["thx","Functions2"];
thx_Functions2.curry = function(f) {
	return function(a) {
		return function(b) {
			return f(a,b);
		};
	};
};
var thx_Functions = function() { };
thx_Functions.__name__ = ["thx","Functions"];
thx_Functions.equality = function(a,b) {
	return a == b;
};
thx_Functions.identity = function(value) {
	return value;
};
thx_Functions.noop = function() {
};
var thx_Ints = function() { };
thx_Ints.__name__ = ["thx","Ints"];
thx_Ints.canParse = function(s) {
	return thx_Ints.pattern_parse.match(s);
};
thx_Ints.compare = function(a,b) {
	return a - b;
};
thx_Ints.parse = function(s,base) {
	if(null == base) {
		if(s.substring(0,2) == "0x") {
			base = 16;
		} else {
			base = 10;
		}
	}
	var v = parseInt(s,base);
	if(isNaN(v)) {
		return null;
	} else {
		return v;
	}
};
var thx_Iterators = function() { };
thx_Iterators.__name__ = ["thx","Iterators"];
thx_Iterators.map = function(it,f) {
	var acc = [];
	var v = it;
	while(v.hasNext()) {
		var v1 = v.next();
		acc.push(f(v1));
	}
	return acc;
};
thx_Iterators.toArray = function(it) {
	var elements = [];
	var element = it;
	while(element.hasNext()) {
		var element1 = element.next();
		elements.push(element1);
	}
	return elements;
};
var thx__$Nel_Nel_$Impl_$ = {};
thx__$Nel_Nel_$Impl_$.__name__ = ["thx","_Nel","Nel_Impl_"];
thx__$Nel_Nel_$Impl_$.pure = function(a) {
	return thx_NonEmptyList.Single(a);
};
thx__$Nel_Nel_$Impl_$.map = function(this1,f) {
	var fb = f;
	return thx__$Nel_Nel_$Impl_$.flatMap(this1,function(v) {
		return thx__$Nel_Nel_$Impl_$.pure(fb(v));
	});
};
thx__$Nel_Nel_$Impl_$.flatMap = function(this1,f) {
	switch(this1[1]) {
	case 0:
		var x = this1[2];
		return f(x);
	case 1:
		var xs = this1[3];
		var x1 = this1[2];
		return thx__$Nel_Nel_$Impl_$.append(f(x1),thx__$Nel_Nel_$Impl_$.flatMap(xs,f));
	}
};
thx__$Nel_Nel_$Impl_$.append = function(this1,nel) {
	switch(this1[1]) {
	case 0:
		var x = this1[2];
		return thx_NonEmptyList.ConsNel(x,nel);
	case 1:
		var xs = this1[3];
		var x1 = this1[2];
		return thx_NonEmptyList.ConsNel(x1,thx__$Nel_Nel_$Impl_$.append(xs,nel));
	}
};
thx__$Nel_Nel_$Impl_$.toArray = function(this1) {
	var go = null;
	go = function(acc,xs) {
		switch(xs[1]) {
		case 0:
			var x = xs[2];
			return thx_Arrays.append(acc,x);
		case 1:
			var xs1 = xs[3];
			var x1 = xs[2];
			var go1 = thx_Arrays.append(acc,x1);
			return go(go1,xs1);
		}
	};
	var go2 = go;
	return go2([],this1);
};
thx__$Nel_Nel_$Impl_$.semigroup = function() {
	return function(nl,nr) {
		return thx__$Nel_Nel_$Impl_$.append(nl,nr);
	};
};
var thx_NonEmptyList = { __ename__ : ["thx","NonEmptyList"], __constructs__ : ["Single","ConsNel"] };
thx_NonEmptyList.Single = function(x) { var $x = ["Single",0,x]; $x.__enum__ = thx_NonEmptyList; $x.toString = $estr; return $x; };
thx_NonEmptyList.ConsNel = function(x,xs) { var $x = ["ConsNel",1,x,xs]; $x.__enum__ = thx_NonEmptyList; $x.toString = $estr; return $x; };
var thx_Nil = { __ename__ : ["thx","Nil"], __constructs__ : ["nil"] };
thx_Nil.nil = ["nil",0];
thx_Nil.nil.toString = $estr;
thx_Nil.nil.__enum__ = thx_Nil;
var thx_Objects = function() { };
thx_Objects.__name__ = ["thx","Objects"];
thx_Objects.getPath = function(o,path) {
	var _this_r = new RegExp("\\[(\\d+)\\]","g".split("u").join(""));
	path = path.replace(_this_r,".$1");
	var paths = path.split(".");
	var current = o;
	var _g = 0;
	while(_g < paths.length) {
		var currentPath = paths[_g];
		++_g;
		if(current == null) {
			return null;
		} else if(thx_Strings.DIGITS.match(currentPath)) {
			var index = Std.parseInt(currentPath);
			var value = current;
			var arr = (value instanceof Array) ? value : null;
			if(null == arr) {
				return null;
			}
			current = arr[index];
		} else if(Object.prototype.hasOwnProperty.call(current,currentPath)) {
			current = Reflect.field(current,currentPath);
		} else {
			return null;
		}
	}
	return current;
};
var thx_Options = function() { };
thx_Options.__name__ = ["thx","Options"];
thx_Options.orElse = function(option,alt) {
	switch(option[1]) {
	case 0:
		return option;
	case 1:
		return alt;
	}
};
thx_Options.toSuccessNel = function(option,error) {
	switch(option[1]) {
	case 0:
		var v = option[2];
		return thx_Either.Right(v);
	case 1:
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(error));
	}
};
var thx__$Path_Path_$Impl_$ = {};
thx__$Path_Path_$Impl_$.__name__ = ["thx","_Path","Path_Impl_"];
thx__$Path_Path_$Impl_$.fromString = function(s) {
	if(s.indexOf("\\") >= 0) {
		var re = new EReg("^([a-z]+[:][\\\\])","i");
		if(re.match(s)) {
			var root = re.matched(1);
			var this1 = ["\\",root].concat(thx__$Path_Path_$Impl_$.resolve(re.matchedRight().split("\\"),root != ""));
			return this1;
		} else {
			var this2 = ["\\",""].concat(thx__$Path_Path_$Impl_$.resolve(s.split("\\"),false));
			return this2;
		}
	} else {
		var root1 = StringTools.startsWith(s,"/") ? "/" : "";
		var this3 = ["/",root1].concat(thx__$Path_Path_$Impl_$.resolve(s.split("/"),root1 != ""));
		return this3;
	}
};
thx__$Path_Path_$Impl_$.resolve = function(path,isAbsolute) {
	path = thx_ArrayStrings.compact(path).filter(function(s) {
		return s != ".";
	});
	return thx_Arrays.reduce(path,function(acc,s1) {
		if(s1 == ".." && acc.length > 0 && acc[acc.length - 1] != "..") {
			return acc.slice(0,acc.length - 1);
		} else if(s1 == ".." && isAbsolute) {
			return acc;
		} else {
			return acc.concat([s1]);
		}
	},[]);
};
thx__$Path_Path_$Impl_$.toString = function(this1) {
	if(this1[1] == "" && this1.slice(2).length == 0) {
		return ".";
	} else {
		return this1[1] + this1.slice(2).join(this1[0]);
	}
};
var thx__$QueryString_QueryString_$Impl_$ = {};
thx__$QueryString_QueryString_$Impl_$.__name__ = ["thx","_QueryString","QueryString_Impl_"];
thx__$QueryString_QueryString_$Impl_$.encodeURIComponent = function(s) {
	return StringTools.replace(encodeURIComponent(s),"%20","+");
};
thx__$QueryString_QueryString_$Impl_$.decodeURIComponent = function(s) {
	return StringTools.replace(decodeURIComponent(s.split("+").join(" ")),"+"," ");
};
thx__$QueryString_QueryString_$Impl_$.parseWithSymbols = function(s,separator,assignment,decodeURIComponent) {
	if(null == s) {
		return new haxe_ds_StringMap();
	} else {
		if(null == decodeURIComponent) {
			decodeURIComponent = thx__$QueryString_QueryString_$Impl_$.decodeURIComponent;
		}
		if(StringTools.startsWith(s,"?") || StringTools.startsWith(s,"#")) {
			s = s.substring(1);
		}
		s = StringTools.ltrim(s);
		return thx_Arrays.reduce(s.split(separator),function(qs,v) {
			var parts = v.split(assignment);
			if(parts[0] != "") {
				thx__$QueryString_QueryString_$Impl_$.add(qs,decodeURIComponent(parts[0]),null == parts[1] ? null : decodeURIComponent(parts[1]));
			}
			return qs;
		},new haxe_ds_StringMap());
	}
};
thx__$QueryString_QueryString_$Impl_$.add = function(this1,name,value) {
	var arr = __map_reserved[name] != null ? this1.getReserved(name) : this1.h[name];
	if(null == arr) {
		if(value == null) {
			arr = [];
		} else {
			arr = [value];
		}
		if(__map_reserved[name] != null) {
			this1.setReserved(name,arr);
		} else {
			this1.h[name] = arr;
		}
	} else if(null != value) {
		arr.push(value);
	}
	return this1;
};
thx__$QueryString_QueryString_$Impl_$.clone = function(this1) {
	if(null == this1) {
		return null;
	}
	var map = new haxe_ds_StringMap();
	var key = this1.keys();
	while(key.hasNext()) {
		var key1 = key.next();
		var value = (__map_reserved[key1] != null ? this1.getReserved(key1) : this1.h[key1]).slice();
		if(__map_reserved[key1] != null) {
			map.setReserved(key1,value);
		} else {
			map.h[key1] = value;
		}
	}
	return map;
};
thx__$QueryString_QueryString_$Impl_$.toStringWithSymbols = function(this1,separator,assignment,encodeURIComponent) {
	if(null == this1) {
		return null;
	}
	if(null == encodeURIComponent) {
		encodeURIComponent = thx__$QueryString_QueryString_$Impl_$.encodeURIComponent;
	}
	var array = thx_Iterators.map(this1.keys(),function(k) {
		var vs = __map_reserved[k] != null ? this1.getReserved(k) : this1.h[k];
		var ek = encodeURIComponent(k);
		if(vs.length == 0) {
			return [ek];
		} else {
			return vs.map(function(_) {
				return "" + ek + assignment + encodeURIComponent(_);
			});
		}
	});
	return Array.prototype.concat.apply([],array).join(separator);
};
var thx__$Semigroup_Semigroup_$Impl_$ = {};
thx__$Semigroup_Semigroup_$Impl_$.__name__ = ["thx","_Semigroup","Semigroup_Impl_"];
thx__$Semigroup_Semigroup_$Impl_$.__properties__ = {get_append:"get_append"};
thx__$Semigroup_Semigroup_$Impl_$.get_append = function(this1) {
	return this1;
};
var thx__$Set_Set_$Impl_$ = {};
thx__$Set_Set_$Impl_$.__name__ = ["thx","_Set","Set_Impl_"];
thx__$Set_Set_$Impl_$.createString = function(it) {
	var map = new haxe_ds_StringMap();
	var this1 = map;
	var set = this1;
	if(null != it) {
		thx__$Set_Set_$Impl_$.pushMany(set,it);
	}
	return set;
};
thx__$Set_Set_$Impl_$.copy = function(this1) {
	var inst = thx__$Set_Set_$Impl_$.empty(this1);
	var k = this1.keys();
	while(k.hasNext()) {
		var k1 = k.next();
		inst.set(k1,true);
	}
	return inst;
};
thx__$Set_Set_$Impl_$.empty = function(this1) {
	var inst = Type.createInstance(this1 == null ? null : js_Boot.getClass(this1),[]);
	var this2 = inst;
	return this2;
};
thx__$Set_Set_$Impl_$.pushMany = function(this1,values) {
	var value = $iterator(values)();
	while(value.hasNext()) {
		var value1 = value.next();
		this1.set(value1,true);
	}
};
thx__$Set_Set_$Impl_$.iterator = function(this1) {
	return this1.keys();
};
var thx_Strings = function() { };
thx_Strings.__name__ = ["thx","Strings"];
thx_Strings.isEmpty = function(value) {
	if(value != null) {
		return value == "";
	} else {
		return true;
	}
};
thx_Strings.trimCharsLeft = function(value,charlist) {
	var pos = 0;
	var _g1 = 0;
	var _g = value.length;
	while(_g1 < _g) {
		var i = _g1++;
		if(charlist.indexOf(value.charAt(i)) >= 0) {
			++pos;
		} else {
			break;
		}
	}
	return value.substring(pos);
};
thx_Strings.upperCaseFirst = function(value) {
	return value.substring(0,1).toUpperCase() + value.substring(1);
};
var thx__$Tuple_Tuple2_$Impl_$ = {};
thx__$Tuple_Tuple2_$Impl_$.__name__ = ["thx","_Tuple","Tuple2_Impl_"];
thx__$Tuple_Tuple2_$Impl_$.of = function(_0,_1) {
	var this1 = { _0 : _0, _1 : _1};
	return this1;
};
var thx_Types = function() { };
thx_Types.__name__ = ["thx","Types"];
thx_Types.sameType = function(a,b) {
	return thx_Types.toString(Type["typeof"](a)) == thx_Types.toString(Type["typeof"](b));
};
thx_Types.toString = function(type) {
	switch(type[1]) {
	case 0:
		return "Null";
	case 1:
		return "Int";
	case 2:
		return "Float";
	case 3:
		return "Bool";
	case 4:
		return "{}";
	case 5:
		return "Function";
	case 6:
		var c = type[2];
		return Type.getClassName(c);
	case 7:
		var e = type[2];
		return Type.getEnumName(e);
	default:
		throw new js__$Boot_HaxeError("invalid type " + Std.string(type));
	}
};
var thx_Unit = { __ename__ : ["thx","Unit"], __constructs__ : ["unit"] };
thx_Unit.unit = ["unit",0];
thx_Unit.unit.toString = $estr;
thx_Unit.unit.__enum__ = thx_Unit;
var thx__$Url_Url_$Impl_$ = {};
thx__$Url_Url_$Impl_$.__name__ = ["thx","_Url","Url_Impl_"];
thx__$Url_Url_$Impl_$.__properties__ = {set_search:"set_search",get_search:"get_search"};
thx__$Url_Url_$Impl_$.fromString = function(s) {
	return thx__$Url_Url_$Impl_$.parse(s,true);
};
thx__$Url_Url_$Impl_$.parse = function(s,parseQueryString) {
	if(!thx__$Url_Url_$Impl_$.pattern.match(s)) {
		throw new thx_Error("unable to parse \"" + s + "\" to Url",null,{ fileName : "Url.hx", lineNumber : 21, className : "thx._Url.Url_Impl_", methodName : "parse"});
	}
	var port = thx__$Url_Url_$Impl_$.pattern.matched(12);
	var o = { protocol : thx__$Url_Url_$Impl_$.pattern.matched(4), slashes : thx__$Url_Url_$Impl_$.pattern.matched(5) == "//", auth : thx__$Url_Url_$Impl_$.pattern.matched(7), hostName : thx__$Url_Url_$Impl_$.pattern.matched(11), port : null == port ? null : Std.parseInt(port), pathName : thx__$Url_Url_$Impl_$.pattern.matched(13), queryString : null, search : null, hash : thx__$Url_Url_$Impl_$.pattern.matched(17)};
	thx__$Url_Url_$Impl_$.set_search(o,thx__$Url_Url_$Impl_$.pattern.matched(16));
	return o;
};
thx__$Url_Url_$Impl_$.concatString = function(this1,that) {
	var copy = thx__$Url_Url_$Impl_$.clone(this1);
	if(thx_Strings.isEmpty(this1.pathName)) {
		if(!StringTools.startsWith(that,"/")) {
			that = "/" + that;
		}
		copy.pathName = that;
	} else {
		if(StringTools.startsWith(that,"/")) {
			that = that.substring(1);
		}
		if(StringTools.endsWith(this1.pathName,"/")) {
			copy.pathName += that;
		} else {
			copy.pathName = copy.pathName + "/" + that;
		}
	}
	return copy;
};
thx__$Url_Url_$Impl_$.toString = function(this1) {
	if(this1.hostName != null) {
		var tmp = "" + (this1.protocol != null ? this1.protocol + ":" : "") + (this1.slashes ? "//" : "") + (this1.auth != null ? this1.auth + "@" : "") + (this1.hostName + (this1.port != null ? ":" + this1.port : ""));
		var this2 = this1.pathName;
		var tmp1;
		var tmp2;
		if(this1.search == null) {
			if(this1.queryString != null) {
				var _this = this1.queryString;
				tmp2 = !(!new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys()).hasNext());
			} else {
				tmp2 = false;
			}
		} else {
			tmp2 = true;
		}
		if(tmp2) {
			tmp1 = "?" + thx__$Url_Url_$Impl_$.get_search(this1);
		} else {
			tmp1 = "";
		}
		return tmp + (this2 + tmp1) + (this1.hash != null ? "#" + this1.hash : "");
	} else {
		var this3 = this1.pathName;
		var tmp3;
		var tmp4;
		if(this1.search == null) {
			if(this1.queryString != null) {
				var _this1 = this1.queryString;
				tmp4 = !(!new haxe_ds__$StringMap_StringMapIterator(_this1,_this1.arrayKeys()).hasNext());
			} else {
				tmp4 = false;
			}
		} else {
			tmp4 = true;
		}
		if(tmp4) {
			tmp3 = "?" + thx__$Url_Url_$Impl_$.get_search(this1);
		} else {
			tmp3 = "";
		}
		return "" + (this3 + tmp3) + (this1.hash != null ? "#" + this1.hash : "");
	}
};
thx__$Url_Url_$Impl_$.clone = function(this1) {
	return { protocol : this1.protocol, slashes : this1.slashes, auth : this1.auth, hostName : this1.hostName, port : this1.port, pathName : this1.pathName, queryString : thx__$QueryString_QueryString_$Impl_$.clone(this1.queryString), search : thx__$Url_Url_$Impl_$.get_search(this1), hash : this1.hash};
};
thx__$Url_Url_$Impl_$.get_search = function(this1) {
	if(null != this1.search && "" != this1.search) {
		return this1.search;
	} else {
		return thx__$QueryString_QueryString_$Impl_$.toStringWithSymbols(this1.queryString,thx__$QueryString_QueryString_$Impl_$.separator,thx__$QueryString_QueryString_$Impl_$.assignment,thx__$QueryString_QueryString_$Impl_$.encodeURIComponent);
	}
};
thx__$Url_Url_$Impl_$.set_search = function(this1,value) {
	var qs;
	try {
		qs = thx__$QueryString_QueryString_$Impl_$.parseWithSymbols(value,thx__$QueryString_QueryString_$Impl_$.separator,thx__$QueryString_QueryString_$Impl_$.assignment,thx__$QueryString_QueryString_$Impl_$.decodeURIComponent);
	} catch( e ) {
		haxe_CallStack.lastException = e;
		qs = null;
	}
	var tmp;
	if(qs != null) {
		var arr = thx_Iterators.toArray(qs.keys());
		if(arr.length == 0) {
			tmp = true;
		} else if(arr.length != 1) {
			tmp = false;
		} else {
			var _this = qs;
			var key = arr[0];
			tmp = (__map_reserved[key] != null ? _this.getReserved(key) : _this.h[key]).length == 0;
		}
	} else {
		tmp = true;
	}
	if(tmp) {
		this1.search = value;
		this1.queryString = null;
	} else {
		this1.queryString = qs;
		this1.search = null;
	}
	return value;
};
var thx__$Validation_Validation_$Impl_$ = {};
thx__$Validation_Validation_$Impl_$.__name__ = ["thx","_Validation","Validation_Impl_"];
thx__$Validation_Validation_$Impl_$.map = function(this1,f) {
	return thx_Eithers.map(this1,f);
};
thx__$Validation_Validation_$Impl_$.ap = function(this1,v,s) {
	switch(this1[1]) {
	case 0:
		var e0 = this1[2];
		var _g = v;
		switch(_g[1]) {
		case 0:
			var e1 = _g[2];
			return thx_Either.Left((thx__$Semigroup_Semigroup_$Impl_$.get_append(s))(e0,e1));
		case 1:
			var b = _g[2];
			return thx_Either.Left(e0);
		}
		break;
	case 1:
		var a = this1[2];
		var _g1 = v;
		switch(_g1[1]) {
		case 0:
			var e = _g1[2];
			return thx_Either.Left(e);
		case 1:
			var f = _g1[2];
			return thx_Either.Right(f(a));
		}
		break;
	}
};
var thx_error_AbstractMethod = function(posInfo) {
	thx_Error.call(this,"method " + posInfo.className + "." + posInfo.methodName + "() is abstract",null,posInfo);
};
thx_error_AbstractMethod.__name__ = ["thx","error","AbstractMethod"];
thx_error_AbstractMethod.__super__ = thx_Error;
thx_error_AbstractMethod.prototype = $extend(thx_Error.prototype,{
	__class__: thx_error_AbstractMethod
});
var thx_error_ErrorWrapper = function(message,innerError,stack,pos) {
	thx_Error.call(this,message,stack,pos);
	this.innerError = innerError;
};
thx_error_ErrorWrapper.__name__ = ["thx","error","ErrorWrapper"];
thx_error_ErrorWrapper.__super__ = thx_Error;
thx_error_ErrorWrapper.prototype = $extend(thx_Error.prototype,{
	__class__: thx_error_ErrorWrapper
});
var thx_fp_Dynamics = function() { };
thx_fp_Dynamics.__name__ = ["thx","fp","Dynamics"];
thx_fp_Dynamics.parseInt0 = function(v,err) {
	var _g = Type["typeof"](v);
	switch(_g[1]) {
	case 1:
		return thx_Either.Right(v);
	case 6:
		var name = _g[2];
		var o = v;
		var _g1 = Type.getClassName(o == null ? null : js_Boot.getClass(o));
		if(_g1 == "String") {
			if(thx_Ints.canParse(v)) {
				return thx_Either.Right(thx_Ints.parse(v));
			} else {
				var other = _g1;
				return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse an integer value from " + Std.string(v) + " (type resolved to " + other + ")")));
			}
		} else {
			var other1 = _g1;
			return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse an integer value from " + Std.string(v) + " (type resolved to " + other1 + ")")));
		}
		break;
	default:
		var other2 = _g;
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse an integer value from " + Std.string(v) + " (type resolved to " + Std.string(other2) + ")")));
	}
};
thx_fp_Dynamics.parseFloat0 = function(v,err) {
	var _g = Type["typeof"](v);
	switch(_g[1]) {
	case 1:
		return thx_Either.Right(v);
	case 2:
		return thx_Either.Right(v);
	case 6:
		var name = _g[2];
		var o = v;
		var _g1 = Type.getClassName(o == null ? null : js_Boot.getClass(o));
		if(_g1 == "String") {
			if(thx_Floats.canParse(v)) {
				return thx_Either.Right(thx_Floats.parse(v));
			} else {
				var other = _g1;
				return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a floating-point value from " + Std.string(v) + " (type resolved to " + other + ")")));
			}
		} else {
			var other1 = _g1;
			return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a floating-point value from " + Std.string(v) + " (type resolved to " + other1 + ")")));
		}
		break;
	default:
		var other2 = _g;
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a floating-point value from " + Std.string(v) + " (type resolved to " + Std.string(other2) + ")")));
	}
};
thx_fp_Dynamics.parseString0 = function(v,err) {
	var _g = Type["typeof"](v);
	if(_g[1] == 6) {
		var name = _g[2];
		var o = v;
		var _g1 = Type.getClassName(o == null ? null : js_Boot.getClass(o));
		if(_g1 == "String") {
			return thx_Either.Right(v);
		} else {
			var other = _g1;
			return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("" + Std.string(v) + " is not a String value (type resolved to " + other + ")")));
		}
	} else {
		var other1 = _g;
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("" + Std.string(v) + " is not a String value (type resolved to " + Std.string(other1) + ")")));
	}
};
thx_fp_Dynamics.parseBool0 = function(v,err) {
	var _g = Type["typeof"](v);
	switch(_g[1]) {
	case 3:
		return thx_Either.Right(v);
	case 6:
		var name = _g[2];
		var o = v;
		var _g1 = Type.getClassName(o == null ? null : js_Boot.getClass(o));
		if(_g1 == "String") {
			if(thx_Bools.canParse(v)) {
				return thx_Either.Right(thx_Bools.parse(v));
			} else {
				var other = _g1;
				return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a boolean value from " + Std.string(v) + " (type resolved to " + other + ")")));
			}
		} else {
			var other1 = _g1;
			return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a boolean value from " + Std.string(v) + " (type resolved to " + other1 + ")")));
		}
		break;
	default:
		var other2 = _g;
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("Cannot parse a boolean value from " + Std.string(v) + " (type resolved to " + Std.string(other2) + ")")));
	}
};
thx_fp_Dynamics.parseProperty = function(ob,name,f,err) {
	var a = thx_Objects.getPath(ob,name);
	var e = err("Property \"" + name + "\" was not found.");
	var this1 = a == null ? thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(e)) : thx_Either.Right(a);
	switch(this1[1]) {
	case 0:
		var a1 = this1[2];
		return thx_Either.Left(a1);
	case 1:
		var b = this1[2];
		return f(b);
	}
};
thx_fp_Dynamics.parseNullableProperty = function(ob,name,f) {
	return f(thx_Objects.getPath(ob,name));
};
thx_fp_Dynamics.parseOptionalProperty = function(ob,name,f) {
	var v = thx_Objects.getPath(ob,name);
	if(v != null) {
		return thx__$Validation_Validation_$Impl_$.map(f(v),haxe_ds_Option.Some);
	} else {
		return thx_Either.Right(haxe_ds_Option.None);
	}
};
thx_fp_Dynamics.parseArrayIndexed = function(v,f,err) {
	var _g = Type["typeof"](v);
	if(_g[1] == 6) {
		var name = _g[2];
		var o = v;
		var _g1 = Type.getClassName(o == null ? null : js_Boot.getClass(o));
		if(_g1 == "Array") {
			return thx_Arrays.traverseValidationIndexed(v,f,thx__$Nel_Nel_$Impl_$.semigroup());
		} else {
			var other = _g1;
			return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("" + Std.string(v) + " is not array-valued (type resolved to " + other + ")")));
		}
	} else {
		var other1 = _g;
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("" + Std.string(v) + " is not array-valued (type resolved to " + Std.string(other1) + ")")));
	}
};
thx_fp_Dynamics.parseStringMap = function(v,f,err) {
	if(Reflect.isObject(v)) {
		return thx__$Validation_Validation_$Impl_$.map(thx_Arrays.traverseValidation(Reflect.fields(v),function(field) {
			var tmp = Reflect.getProperty(v,field);
			var _0 = field;
			var tmp1 = function(_1) {
				return thx__$Tuple_Tuple2_$Impl_$.of(_0,_1);
			};
			return thx__$Validation_Validation_$Impl_$.map(f(tmp,field),tmp1);
		},thx__$Nel_Nel_$Impl_$.semigroup()),thx_Arrays.toStringMap);
	} else {
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(err("" + Std.string(v) + " is not object-valued (type resolved to " + Std.string(Type["typeof"](v)) + ")")));
	}
};
var thx_fp_Functions = function() { };
thx_fp_Functions.__name__ = ["thx","fp","Functions"];
thx_fp_Functions.flip = function(f) {
	return function(b) {
		return function(a) {
			return (f(a))(b);
		};
	};
};
var thx_http__$Headers_Headers_$Impl_$ = {};
thx_http__$Headers_Headers_$Impl_$.__name__ = ["thx","http","_Headers","Headers_Impl_"];
thx_http__$Headers_Headers_$Impl_$.empty = function() {
	var this1 = [];
	return this1;
};
var thx_http_HttpAbortError = function(url,pos) {
	thx_Error.call(this,"user aborted connection to " + thx__$Url_Url_$Impl_$.toString(url),null,pos);
};
thx_http_HttpAbortError.__name__ = ["thx","http","HttpAbortError"];
thx_http_HttpAbortError.__super__ = thx_Error;
thx_http_HttpAbortError.prototype = $extend(thx_Error.prototype,{
	__class__: thx_http_HttpAbortError
});
var thx_http_HttpStatusError = function(statusCode,statusText,pos) {
	this.statusCode = statusCode;
	if(null == statusText) {
		statusText = thx_http_Response.statusCodes.h[statusCode];
	}
	this.statusText = statusText;
	thx_Error.call(this,"" + statusCode + ": " + statusText,null,pos);
};
thx_http_HttpStatusError.__name__ = ["thx","http","HttpStatusError"];
thx_http_HttpStatusError.__super__ = thx_Error;
thx_http_HttpStatusError.prototype = $extend(thx_Error.prototype,{
	__class__: thx_http_HttpStatusError
});
var thx_http_HttpClientError = function(statusCode,statusText,pos) {
	thx_http_HttpStatusError.call(this,statusCode,statusText,pos);
};
thx_http_HttpClientError.__name__ = ["thx","http","HttpClientError"];
thx_http_HttpClientError.__super__ = thx_http_HttpStatusError;
thx_http_HttpClientError.prototype = $extend(thx_http_HttpStatusError.prototype,{
	__class__: thx_http_HttpClientError
});
var thx_http_HttpConnectionError = function(message,stack,pos) {
	thx_Error.call(this,message,stack,pos);
};
thx_http_HttpConnectionError.__name__ = ["thx","http","HttpConnectionError"];
thx_http_HttpConnectionError.__super__ = thx_Error;
thx_http_HttpConnectionError.prototype = $extend(thx_Error.prototype,{
	__class__: thx_http_HttpConnectionError
});
var thx_http_HttpServerError = function(statusCode,statusText,pos) {
	thx_http_HttpStatusError.call(this,statusCode,statusText,pos);
};
thx_http_HttpServerError.__name__ = ["thx","http","HttpServerError"];
thx_http_HttpServerError.__super__ = thx_http_HttpStatusError;
thx_http_HttpServerError.prototype = $extend(thx_http_HttpStatusError.prototype,{
	__class__: thx_http_HttpServerError
});
var thx_http_Request = function() { };
thx_http_Request.__name__ = ["thx","http","Request"];
thx_http_Request.make = function(requestInfo,responseType) {
	return thx_http_core_Html5Request.make(requestInfo,responseType);
};
thx_http_Request.prototype = {
	get_body: function() {
		if(null != this._body) {
			return this._body;
		}
		return this._body = thx_promise__$Promise_Promise_$Impl_$.flatMapEither(this.response,function(response) {
			var _g = response.get_statusCode();
			switch(_g) {
			case 200:case 201:case 202:case 203:case 204:case 205:case 206:
				return response.get_body();
			default:
				var serverError = _g;
				if(serverError >= 500) {
					return thx_promise__$Promise_Promise_$Impl_$.error(new thx_http_HttpServerError(serverError,response.get_statusText(),{ fileName : "Request.hx", lineNumber : 58, className : "thx.http.Request", methodName : "get_body"}));
				} else {
					var clientError = _g;
					if(clientError >= 400) {
						return thx_promise__$Promise_Promise_$Impl_$.error(new thx_http_HttpClientError(clientError,response.get_statusText(),{ fileName : "Request.hx", lineNumber : 60, className : "thx.http.Request", methodName : "get_body"}));
					} else {
						var other = _g;
						return thx_promise__$Promise_Promise_$Impl_$.error(new thx_http_HttpStatusError(other,response.get_statusText(),{ fileName : "Request.hx", lineNumber : 62, className : "thx.http.Request", methodName : "get_body"}));
					}
				}
			}
		},function(err) {
			return thx_promise__$Promise_Promise_$Impl_$.error(err);
		});
	}
	,__class__: thx_http_Request
	,__properties__: {get_body:"get_body"}
};
var thx_http_RequestInfo = function(method,url,headers,body,version) {
	if(version == null) {
		version = "1.1";
	}
	this.method = method;
	this.url = url;
	this.headers = null == headers ? thx_http__$Headers_Headers_$Impl_$.empty() : headers;
	this.version = version;
	this.body = null == body ? thx_http_RequestTypeImpl.NoBody : body;
};
thx_http_RequestInfo.__name__ = ["thx","http","RequestInfo"];
thx_http_RequestInfo.prototype = {
	__class__: thx_http_RequestInfo
};
var thx_http_RequestTypeImpl = { __ename__ : ["thx","http","RequestTypeImpl"], __constructs__ : ["NoBody","Text","Binary","Input","JSArrayBufferView","JSBlob","JSDocument","JSFormData"] };
thx_http_RequestTypeImpl.NoBody = ["NoBody",0];
thx_http_RequestTypeImpl.NoBody.toString = $estr;
thx_http_RequestTypeImpl.NoBody.__enum__ = thx_http_RequestTypeImpl;
thx_http_RequestTypeImpl.Text = function(s,encoding) { var $x = ["Text",1,s,encoding]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.Binary = function(b) { var $x = ["Binary",2,b]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.Input = function(s) { var $x = ["Input",3,s]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.JSArrayBufferView = function(buffer) { var $x = ["JSArrayBufferView",4,buffer]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.JSBlob = function(blob) { var $x = ["JSBlob",5,blob]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.JSDocument = function(doc) { var $x = ["JSDocument",6,doc]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
thx_http_RequestTypeImpl.JSFormData = function(formData) { var $x = ["JSFormData",7,formData]; $x.__enum__ = thx_http_RequestTypeImpl; $x.toString = $estr; return $x; };
var thx_http_Response = function() { };
thx_http_Response.__name__ = ["thx","http","Response"];
thx_http_Response.prototype = {
	get_statusCode: function() {
		throw new thx_error_AbstractMethod({ fileName : "Response.hx", lineNumber : 80, className : "thx.http.Response", methodName : "get_statusCode"});
	}
	,get_statusText: function() {
		var this1 = thx_http_Response.statusCodes;
		var key = this.get_statusCode();
		return this1.h[key];
	}
	,get_body: function() {
		throw new thx_error_AbstractMethod({ fileName : "Response.hx", lineNumber : 86, className : "thx.http.Response", methodName : "get_body"});
	}
	,__class__: thx_http_Response
	,__properties__: {get_body:"get_body",get_statusText:"get_statusText",get_statusCode:"get_statusCode"}
};
var thx_http_ResponseType = { __ename__ : ["thx","http","ResponseType"], __constructs__ : ["Binary","NoBody","Text","Json","Input","JSArrayBuffer","JSBlob","JSDocument"] };
thx_http_ResponseType.Binary = ["Binary",0];
thx_http_ResponseType.Binary.toString = $estr;
thx_http_ResponseType.Binary.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.NoBody = ["NoBody",1];
thx_http_ResponseType.NoBody.toString = $estr;
thx_http_ResponseType.NoBody.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.Text = ["Text",2];
thx_http_ResponseType.Text.toString = $estr;
thx_http_ResponseType.Text.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.Json = ["Json",3];
thx_http_ResponseType.Json.toString = $estr;
thx_http_ResponseType.Json.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.Input = ["Input",4];
thx_http_ResponseType.Input.toString = $estr;
thx_http_ResponseType.Input.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.JSArrayBuffer = ["JSArrayBuffer",5];
thx_http_ResponseType.JSArrayBuffer.toString = $estr;
thx_http_ResponseType.JSArrayBuffer.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.JSBlob = ["JSBlob",6];
thx_http_ResponseType.JSBlob.toString = $estr;
thx_http_ResponseType.JSBlob.__enum__ = thx_http_ResponseType;
thx_http_ResponseType.JSDocument = ["JSDocument",7];
thx_http_ResponseType.JSDocument.toString = $estr;
thx_http_ResponseType.JSDocument.__enum__ = thx_http_ResponseType;
var thx_http_core_Html5Request = function(response,request) {
	this.response = response;
	this.request = request;
};
thx_http_core_Html5Request.__name__ = ["thx","http","core","Html5Request"];
thx_http_core_Html5Request.make = function(requestInfo,responseType) {
	var request = new XMLHttpRequest();
	var tmp;
	switch(responseType[1]) {
	case 0:
		tmp = "arraybuffer";
		break;
	case 1:
		tmp = "";
		break;
	case 2:
		tmp = "text";
		break;
	case 3:
		tmp = "json";
		break;
	case 4:
		tmp = "arraybuffer";
		break;
	case 5:
		tmp = "arraybuffer";
		break;
	case 6:
		tmp = "blob";
		break;
	case 7:
		tmp = "document";
		break;
	}
	request.responseType = tmp;
	return new thx_http_core_Html5Request(thx_promise__$Promise_Promise_$Impl_$.create(function(resolve,reject) {
		var promiseResponseBody = thx_promise__$Promise_Promise_$Impl_$.create(function(resolveBody,rejectBody) {
			request.addEventListener("load",function(e) {
				var body;
				switch(responseType[1]) {
				case 0:
					body = haxe_io_Bytes.ofData(request.response);
					break;
				case 1:
					body = thx_Nil.nil;
					break;
				case 2:
					body = request.response;
					break;
				case 3:
					body = request.response;
					break;
				case 4:
					body = new haxe_io_BytesInput(haxe_io_Bytes.ofData(request.response));
					break;
				case 5:
					body = request.response;
					break;
				case 6:
					body = request.response;
					break;
				case 7:
					body = request.response;
					break;
				}
				resolveBody(body);
			});
		});
		request.addEventListener("readystatechange",function(e1) {
			if(request.readyState == 2) {
				resolve(new thx_http_core_Html5Response(promiseResponseBody,request));
			}
		});
		request.addEventListener("error",function(e2) {
			reject(new thx_http_HttpConnectionError(e2.message,null,{ fileName : "Html5Request.hx", lineNumber : 54, className : "thx.http.core.Html5Request", methodName : "make"}));
		});
		request.addEventListener("abort",function(e3) {
			reject(new thx_http_HttpAbortError(requestInfo.url,{ fileName : "Html5Request.hx", lineNumber : 57, className : "thx.http.core.Html5Request", methodName : "make"}));
		});
		var requestInfo1 = requestInfo.method;
		var tmp1 = thx__$Url_Url_$Impl_$.toString(requestInfo.url);
		request.open(requestInfo1,tmp1);
		requestInfo.headers.map(function(_) {
			request.setRequestHeader(_._0,_._1);
			return;
		});
		var body1 = requestInfo.body;
		switch(body1[1]) {
		case 0:
			request.send();
			break;
		case 1:
			var e4 = body1[3];
			var s = body1[2];
			request.send(s);
			break;
		case 2:
			var b = body1[2];
			request.send(b.b.bufferValue);
			break;
		case 3:
			var i = body1[2];
			var tmp2 = i.readAll().b.bufferValue;
			request.send(tmp2);
			break;
		case 4:
			var arrayBufferView = body1[2];
			request.send(arrayBufferView);
			break;
		case 5:
			var blob = body1[2];
			request.send(blob);
			break;
		case 6:
			var doc = body1[2];
			request.send(doc);
			break;
		case 7:
			var formData = body1[2];
			request.send(formData);
			break;
		}
	}),request);
};
thx_http_core_Html5Request.__super__ = thx_http_Request;
thx_http_core_Html5Request.prototype = $extend(thx_http_Request.prototype,{
	__class__: thx_http_core_Html5Request
});
var thx_http_core_Html5Response = function(body,request) {
	this._body = body;
	this.request = request;
};
thx_http_core_Html5Response.__name__ = ["thx","http","core","Html5Response"];
thx_http_core_Html5Response.__super__ = thx_http_Response;
thx_http_core_Html5Response.prototype = $extend(thx_http_Response.prototype,{
	get_body: function() {
		return this._body;
	}
	,get_statusCode: function() {
		return this.request.status;
	}
	,get_statusText: function() {
		return this.request.statusText;
	}
	,__class__: thx_http_core_Html5Response
});
var thx_promise_Future = function() {
	this.handlers = [];
	this.state = haxe_ds_Option.None;
};
thx_promise_Future.__name__ = ["thx","promise","Future"];
thx_promise_Future.create = function(handler) {
	var future = new thx_promise_Future();
	handler($bind(future,future.setState));
	return future;
};
thx_promise_Future.prototype = {
	then: function(handler) {
		this.handlers.push(handler);
		this.update();
		return this;
	}
	,setState: function(newstate) {
		var _g = this.state;
		switch(_g[1]) {
		case 0:
			var r = _g[2];
			throw new thx_Error("future was already \"" + Std.string(r) + "\", can't apply the new state \"" + Std.string(newstate) + "\"",null,{ fileName : "Future.hx", lineNumber : 121, className : "thx.promise.Future", methodName : "setState"});
			break;
		case 1:
			this.state = haxe_ds_Option.Some(newstate);
			break;
		}
		this.update();
		return this;
	}
	,update: function() {
		var _g = this.state;
		switch(_g[1]) {
		case 0:
			var result = _g[2];
			var index = -1;
			while(++index < this.handlers.length) {
				var handler = this.handlers[index];
				handler(result);
			}
			this.handlers = [];
			break;
		case 1:
			break;
		}
	}
	,__class__: thx_promise_Future
};
var thx_promise__$Promise_Promise_$Impl_$ = {};
thx_promise__$Promise_Promise_$Impl_$.__name__ = ["thx","promise","_Promise","Promise_Impl_"];
thx_promise__$Promise_Promise_$Impl_$.create = function(callback) {
	var this1 = thx_promise_Future.create(function(cb) {
		try {
			callback(function(v) {
				cb(thx_Either.Right(v));
			},function(e) {
				cb(thx_Either.Left(e));
			});
		} catch( e1 ) {
			haxe_CallStack.lastException = e1;
			if (e1 instanceof js__$Boot_HaxeError) e1 = e1.val;
			var future = thx_Error.fromDynamic(e1,{ fileName : "Promise.hx", lineNumber : 90, className : "thx.promise._Promise.Promise_Impl_", methodName : "create"});
			cb(thx_Either.Left(future));
		}
	});
	return this1;
};
thx_promise__$Promise_Promise_$Impl_$.createUnsafe = function(callback) {
	var this1 = thx_promise_Future.create(function(cb) {
		callback(function(v) {
			cb(thx_Either.Right(v));
		},function(e) {
			cb(thx_Either.Left(e));
		});
	});
	return this1;
};
thx_promise__$Promise_Promise_$Impl_$.fail = function(message,pos) {
	return thx_promise__$Promise_Promise_$Impl_$.error(new thx_Error(message,null,pos));
};
thx_promise__$Promise_Promise_$Impl_$.error = function(err) {
	return thx_promise__$Promise_Promise_$Impl_$.create(function(_,reject) {
		reject(err);
	});
};
thx_promise__$Promise_Promise_$Impl_$.value = function(v) {
	return thx_promise__$Promise_Promise_$Impl_$.create(function(resolve,_) {
		resolve(v);
	});
};
thx_promise__$Promise_Promise_$Impl_$.either = function(this1,success,failure) {
	return thx_promise__$Promise_Promise_$Impl_$.createUnsafe(function(resolve,reject) {
		this1.then(function(r) {
			try {
				switch(r[1]) {
				case 0:
					var e = r[2];
					failure(e);
					reject(e);
					break;
				case 1:
					var v = r[2];
					success(v);
					resolve(v);
					break;
				}
			} catch( e1 ) {
				haxe_CallStack.lastException = e1;
				if (e1 instanceof js__$Boot_HaxeError) e1 = e1.val;
				var tmp = thx_Error.fromDynamic(e1,{ fileName : "Promise.hx", lineNumber : 146, className : "thx.promise._Promise.Promise_Impl_", methodName : "either"});
				reject(tmp);
			}
		});
	});
};
thx_promise__$Promise_Promise_$Impl_$.failure = function(this1,failure) {
	return thx_promise__$Promise_Promise_$Impl_$.either(this1,function(_) {
	},failure);
};
thx_promise__$Promise_Promise_$Impl_$.flatMapEither = function(this1,success,failure) {
	return thx_promise__$Promise_Promise_$Impl_$.createUnsafe(function(resolve,reject) {
		this1.then(function(result) {
			switch(result[1]) {
			case 0:
				var e = result[2];
				try {
					thx_promise__$Promise_Promise_$Impl_$.either(failure(e),resolve,reject);
				} catch( e1 ) {
					haxe_CallStack.lastException = e1;
					if (e1 instanceof js__$Boot_HaxeError) e1 = e1.val;
					var tmp = thx_Error.fromDynamic(e1,{ fileName : "Promise.hx", lineNumber : 210, className : "thx.promise._Promise.Promise_Impl_", methodName : "flatMapEither"});
					reject(tmp);
				}
				break;
			case 1:
				var v = result[2];
				try {
					thx_promise__$Promise_Promise_$Impl_$.either(success(v),resolve,reject);
				} catch( e2 ) {
					haxe_CallStack.lastException = e2;
					if (e2 instanceof js__$Boot_HaxeError) e2 = e2.val;
					var tmp1 = thx_Error.fromDynamic(e2,{ fileName : "Promise.hx", lineNumber : 209, className : "thx.promise._Promise.Promise_Impl_", methodName : "flatMapEither"});
					reject(tmp1);
				}
				break;
			}
		});
	});
};
thx_promise__$Promise_Promise_$Impl_$.map = function(this1,success) {
	return thx_promise__$Promise_Promise_$Impl_$.flatMapEither(this1,function(v) {
		return thx_promise__$Promise_Promise_$Impl_$.value(success(v));
	},function(err) {
		return thx_promise__$Promise_Promise_$Impl_$.error(err);
	});
};
thx_promise__$Promise_Promise_$Impl_$.success = function(this1,success) {
	return thx_promise__$Promise_Promise_$Impl_$.either(this1,success,function(_) {
	});
};
var thx_schema_ParseError = function(error,path) {
	this.error = error;
	this.path = path;
};
thx_schema_ParseError.__name__ = ["thx","schema","ParseError"];
thx_schema_ParseError.prototype = {
	toString: function() {
		return "" + thx_schema__$SPath_SPath_$Impl_$.toString(this.path) + ": " + Std.string(this.error);
	}
	,__class__: thx_schema_ParseError
};
var thx_schema_SPathADT = { __ename__ : ["thx","schema","SPathADT"], __constructs__ : ["Property","Index","Empty"] };
thx_schema_SPathADT.Property = function(name,tail) { var $x = ["Property",0,name,tail]; $x.__enum__ = thx_schema_SPathADT; $x.toString = $estr; return $x; };
thx_schema_SPathADT.Index = function(idx,tail) { var $x = ["Index",1,idx,tail]; $x.__enum__ = thx_schema_SPathADT; $x.toString = $estr; return $x; };
thx_schema_SPathADT.Empty = ["Empty",2];
thx_schema_SPathADT.Empty.toString = $estr;
thx_schema_SPathADT.Empty.__enum__ = thx_schema_SPathADT;
var thx_schema__$SPath_SPath_$Impl_$ = {};
thx_schema__$SPath_SPath_$Impl_$.__name__ = ["thx","schema","_SPath","SPath_Impl_"];
thx_schema__$SPath_SPath_$Impl_$.property = function(this1,name) {
	return thx_schema_SPathADT.Property(name,this1);
};
thx_schema__$SPath_SPath_$Impl_$.index = function(this1,idx) {
	return thx_schema_SPathADT.Index(idx,this1);
};
thx_schema__$SPath_SPath_$Impl_$.toString = function(this1) {
	switch(this1[1]) {
	case 0:
		var xs = this1[3];
		var name = this1[2];
		return "" + thx_schema__$SPath_SPath_$Impl_$.toString(xs) + "/" + name;
	case 1:
		var xs1 = this1[3];
		var idx = this1[2];
		return "" + thx_schema__$SPath_SPath_$Impl_$.toString(xs1) + "[" + idx + "]";
	case 2:
		return "";
	}
};
var thx_schema_SchemaDSL = function() { };
thx_schema_SchemaDSL.__name__ = ["thx","schema","SchemaDSL"];
thx_schema_SchemaDSL.liftPS = function(s) {
	return thx_schema_PropsBuilder.Ap(s,thx_schema_PropsBuilder.Pure(function(a) {
		return a;
	}));
};
thx_schema_SchemaDSL.required = function(fieldName,valueSchema,accessor) {
	return thx_schema_SchemaDSL.liftPS(thx_schema_PropSchema.Required(fieldName,valueSchema,accessor,haxe_ds_Option.None));
};
var thx_schema_SchemaDynamicExtensions = function() { };
thx_schema_SchemaDynamicExtensions.__name__ = ["thx","schema","SchemaDynamicExtensions"];
thx_schema_SchemaDynamicExtensions.parseDynamic = function(schema,err,v) {
	return thx_schema_SchemaDynamicExtensions.parseDynamic0(schema.schema,thx_schema_SPathADT.Empty,err,v);
};
thx_schema_SchemaDynamicExtensions.parseDynamicAt = function(schema,path,err,v) {
	return thx_schema_SchemaDynamicExtensions.parseDynamic0(schema.schema,path,err,v);
};
thx_schema_SchemaDynamicExtensions.parseDynamic0 = function(schemaf,path,err,v) {
	var failure = function(s) {
		return new thx_schema_ParseError(err(s),path);
	};
	var failNel = function(s1) {
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(new thx_schema_ParseError(err(s1),path)));
	};
	switch(schemaf[1]) {
	case 0:
		var f = failure;
		return thx_Eithers.leftMap(thx_fp_Dynamics.parseBool0(v,thx_Functions.identity),function(n) {
			return thx__$Nel_Nel_$Impl_$.map(n,f);
		});
	case 1:
		var f1 = failure;
		return thx_Eithers.leftMap(thx_fp_Dynamics.parseFloat0(v,thx_Functions.identity),function(n1) {
			return thx__$Nel_Nel_$Impl_$.map(n1,f1);
		});
	case 2:
		var f2 = failure;
		return thx_Eithers.leftMap(thx_fp_Dynamics.parseInt0(v,thx_Functions.identity),function(n2) {
			return thx__$Nel_Nel_$Impl_$.map(n2,f2);
		});
	case 3:
		var f3 = failure;
		return thx_Eithers.leftMap(thx_fp_Dynamics.parseString0(v,thx_Functions.identity),function(n3) {
			return thx__$Nel_Nel_$Impl_$.map(n3,f3);
		});
	case 4:
		var a = schemaf[2];
		return thx_Either.Right(a);
	case 5:
		return thx_Either.Right(v);
	case 6:
		var propSchema = schemaf[2];
		return thx_schema_SchemaDynamicExtensions.parseObject(path,propSchema,err,v);
	case 7:
		var elemSchema = schemaf[2];
		return thx_fp_Dynamics.parseArrayIndexed(v,function(x,i) {
			var tmp = thx_schema__$SPath_SPath_$Impl_$.index(path,i);
			return thx_schema_SchemaDynamicExtensions.parseDynamicAt(elemSchema,tmp,err,x);
		},failure);
	case 8:
		var elemSchema1 = schemaf[2];
		return thx_fp_Dynamics.parseStringMap(v,function(x1,s2) {
			var tmp1 = thx_schema__$SPath_SPath_$Impl_$.property(path,s2);
			return thx_schema_SchemaDynamicExtensions.parseDynamicAt(elemSchema1,tmp1,err,x1);
		},failure);
	case 9:
		var alternatives = schemaf[2];
		var _e = alternatives;
		if((function(predicate) {
			return thx_Arrays.all(_e,predicate);
		})(function(_) {
			return thx_schema_AlternativeExtensions.isConstantAlt(_);
		})) {
			var f4 = failure;
			var this1 = thx_Eithers.leftMap(thx_fp_Dynamics.parseString0(v,thx_Functions.identity),function(n4) {
				return thx__$Nel_Nel_$Impl_$.map(n4,f4);
			});
			switch(this1[1]) {
			case 0:
				var a1 = this1[2];
				return thx_Either.Left(a1);
			case 1:
				var b = this1[2];
				var id0 = b.toLowerCase();
				var _e1 = alternatives;
				var _g = (function(predicate1) {
					return thx_Arrays.findOption(_e1,predicate1);
				})(function(_1) {
					return thx_schema_AlternativeExtensions.id(_1).toLowerCase() == id0;
				});
				switch(_g[1]) {
				case 0:
					var f5 = _g[2][4];
					var altSchema = _g[2][3];
					var id = _g[2][2];
					return thx__$Validation_Validation_$Impl_$.map(thx_schema_SchemaDynamicExtensions.parseDynamicAt(altSchema,thx_schema__$SPath_SPath_$Impl_$.property(path,id),err,v),f5);
				case 1:
					return failNel("Value " + Std.string(v) + " cannot be mapped to any alternative among [" + alternatives.map(function(_2) {
						return thx_schema_AlternativeExtensions.id(_2);
					}).join(", ") + "]");
				}
				break;
			}
		} else {
			var tmp2;
			if(Reflect.isObject(v)) {
				var o = v;
				tmp2 = null == (o == null ? null : js_Boot.getClass(o));
			} else {
				tmp2 = false;
			}
			if(tmp2) {
				var fields = Reflect.fields(v);
				var array = fields.map(function(name) {
					return alternatives.filter(function(_3) {
						return thx_schema_AlternativeExtensions.id(_3) == name;
					});
				});
				var alts = Array.prototype.concat.apply([],array);
				if(alts.length == 1) {
					var f6 = alts[0][4];
					var base = alts[0][3];
					var id1 = alts[0][2];
					var a11 = base;
					var a2 = thx_schema__$SPath_SPath_$Impl_$.property(path,id1);
					var a3 = err;
					var baseParser = function(v1) {
						return thx_schema_SchemaDynamicExtensions.parseDynamicAt(a11,a2,a3,v1);
					};
					var res = thx_schema_SchemaFExtensions.isConstant(base.schema) ? thx_fp_Dynamics.parseNullableProperty(v,id1,baseParser) : thx_fp_Dynamics.parseProperty(v,id1,baseParser,function(s3) {
						return new thx_schema_ParseError(err(s3),path);
					});
					return thx__$Validation_Validation_$Impl_$.map(res,f6);
				} else {
					var other = alts;
					if(other.length == 0) {
						return failNel("Could not match type identifier from among " + Std.string(alternatives.map(function(_4) {
							return thx_schema_AlternativeExtensions.id(_4);
						})) + " in object with fields " + Std.string(fields) + ".");
					} else {
						throw new thx_Error("More than one alternative bound to the same schema at path " + thx_schema__$SPath_SPath_$Impl_$.toString(path) + "!",null,{ fileName : "SchemaDynamicExtensions.hx", lineNumber : 95, className : "thx.schema.SchemaDynamicExtensions", methodName : "parseDynamic0"});
					}
				}
			} else {
				return failNel("" + Std.string(v) + " is not an anonymous object structure, as required for the representation of values of \"oneOf\" type.");
			}
		}
		break;
	case 10:
		var f7 = schemaf[3];
		var base1 = schemaf[2];
		var this2 = thx_schema_SchemaDynamicExtensions.parseDynamic0(base1,path,err,v);
		switch(this2[1]) {
		case 0:
			var a4 = this2[2];
			return thx_Either.Left(a4);
		case 1:
			var b1 = this2[2];
			var _g1 = f7(b1);
			switch(_g1[1]) {
			case 0:
				var result = _g1[2];
				return thx_Either.Right(result);
			case 1:
				var error = _g1[2];
				return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(new thx_schema_ParseError(error,path)));
			}
			break;
		}
		break;
	case 11:
		var base2 = schemaf[2];
		return thx_schema_SchemaDynamicExtensions.parseDynamic0(base2(),path,err,v);
	}
};
thx_schema_SchemaDynamicExtensions.parseObject = function(path,builder,err,v) {
	var tmp;
	if(Reflect.isObject(v)) {
		var o = v;
		tmp = null == (o == null ? null : js_Boot.getClass(o));
	} else {
		tmp = false;
	}
	if(tmp) {
		switch(builder[1]) {
		case 0:
			var a = builder[2];
			return thx_Either.Right(a);
		case 1:
			var k = builder[3];
			var s = builder[2];
			var parsedOpt;
			switch(s[1]) {
			case 0:
				var dflt = s[5];
				var valueSchema = s[3];
				var fieldName = s[2];
				var a1 = valueSchema;
				var a2 = thx_schema__$SPath_SPath_$Impl_$.property(path,fieldName);
				var a3 = err;
				var _e = function(v1) {
					return thx_schema_SchemaDynamicExtensions.parseDynamicAt(a1,a2,a3,v1);
				};
				var _e1 = thx_fp_Dynamics.parseOptionalProperty(v,fieldName,_e);
				parsedOpt = (function(f) {
					switch(_e1[1]) {
					case 0:
						var a4 = _e1[2];
						return thx_Either.Left(a4);
					case 1:
						var b = _e1[2];
						return f(b);
					}
				})(function(_) {
					return thx_Options.toSuccessNel(thx_Options.orElse(_,dflt),new thx_schema_ParseError(err("Value " + Std.string(v) + " does not contain field " + fieldName + " and no default was available."),path));
				});
				break;
			case 1:
				var valueSchema1 = s[3];
				var fieldName1 = s[2];
				var a11 = valueSchema1;
				var a21 = thx_schema__$SPath_SPath_$Impl_$.property(path,fieldName1);
				var a31 = err;
				var parsedOpt1 = function(v2) {
					return thx_schema_SchemaDynamicExtensions.parseDynamicAt(a11,a21,a31,v2);
				};
				parsedOpt = thx_fp_Dynamics.parseOptionalProperty(v,fieldName1,parsedOpt1);
				break;
			}
			return thx__$Validation_Validation_$Impl_$.ap(parsedOpt,thx_schema_SchemaDynamicExtensions.parseObject(path,k,err,v),thx__$Nel_Nel_$Impl_$.semigroup());
		}
	} else {
		return thx_Either.Left(thx__$Nel_Nel_$Impl_$.pure(new thx_schema_ParseError(err("" + Std.string(v) + " is not an anonymous object structure})."),path)));
	}
};
var thx_schema_SchemaF = { __ename__ : ["thx","schema","SchemaF"], __constructs__ : ["BoolSchema","FloatSchema","IntSchema","StrSchema","ConstSchema","AnySchema","ObjectSchema","ArraySchema","MapSchema","OneOfSchema","ParseSchema","LazySchema"] };
thx_schema_SchemaF.BoolSchema = ["BoolSchema",0];
thx_schema_SchemaF.BoolSchema.toString = $estr;
thx_schema_SchemaF.BoolSchema.__enum__ = thx_schema_SchemaF;
thx_schema_SchemaF.FloatSchema = ["FloatSchema",1];
thx_schema_SchemaF.FloatSchema.toString = $estr;
thx_schema_SchemaF.FloatSchema.__enum__ = thx_schema_SchemaF;
thx_schema_SchemaF.IntSchema = ["IntSchema",2];
thx_schema_SchemaF.IntSchema.toString = $estr;
thx_schema_SchemaF.IntSchema.__enum__ = thx_schema_SchemaF;
thx_schema_SchemaF.StrSchema = ["StrSchema",3];
thx_schema_SchemaF.StrSchema.toString = $estr;
thx_schema_SchemaF.StrSchema.__enum__ = thx_schema_SchemaF;
thx_schema_SchemaF.ConstSchema = function(value) { var $x = ["ConstSchema",4,value]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.AnySchema = ["AnySchema",5];
thx_schema_SchemaF.AnySchema.toString = $estr;
thx_schema_SchemaF.AnySchema.__enum__ = thx_schema_SchemaF;
thx_schema_SchemaF.ObjectSchema = function(propSchema) { var $x = ["ObjectSchema",6,propSchema]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.ArraySchema = function(elemSchema) { var $x = ["ArraySchema",7,elemSchema]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.MapSchema = function(elemSchema) { var $x = ["MapSchema",8,elemSchema]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.OneOfSchema = function(alternatives) { var $x = ["OneOfSchema",9,alternatives]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.ParseSchema = function(base,f,g) { var $x = ["ParseSchema",10,base,f,g]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
thx_schema_SchemaF.LazySchema = function(delay) { var $x = ["LazySchema",11,delay]; $x.__enum__ = thx_schema_SchemaF; $x.toString = $estr; return $x; };
var thx_schema_AnnotatedSchema = function(annotation,schema) {
	this.annotation = annotation;
	this.schema = schema;
};
thx_schema_AnnotatedSchema.__name__ = ["thx","schema","AnnotatedSchema"];
thx_schema_AnnotatedSchema.prototype = {
	__class__: thx_schema_AnnotatedSchema
};
var thx_schema_ParseResult = { __ename__ : ["thx","schema","ParseResult"], __constructs__ : ["PSuccess","PFailure"] };
thx_schema_ParseResult.PSuccess = function(result) { var $x = ["PSuccess",0,result]; $x.__enum__ = thx_schema_ParseResult; $x.toString = $estr; return $x; };
thx_schema_ParseResult.PFailure = function(error,sourceData) { var $x = ["PFailure",1,error,sourceData]; $x.__enum__ = thx_schema_ParseResult; $x.toString = $estr; return $x; };
var thx_schema_Alternative = { __ename__ : ["thx","schema","Alternative"], __constructs__ : ["Prism"] };
thx_schema_Alternative.Prism = function(id,base,f,g) { var $x = ["Prism",0,id,base,f,g]; $x.__enum__ = thx_schema_Alternative; $x.toString = $estr; return $x; };
var thx_schema_PropSchema = { __ename__ : ["thx","schema","PropSchema"], __constructs__ : ["Required","Optional"] };
thx_schema_PropSchema.Required = function(fieldName,valueSchema,accessor,dflt) { var $x = ["Required",0,fieldName,valueSchema,accessor,dflt]; $x.__enum__ = thx_schema_PropSchema; $x.toString = $estr; return $x; };
thx_schema_PropSchema.Optional = function(fieldName,valueSchema,accessor) { var $x = ["Optional",1,fieldName,valueSchema,accessor]; $x.__enum__ = thx_schema_PropSchema; $x.toString = $estr; return $x; };
var thx_schema_PropsBuilder = { __ename__ : ["thx","schema","PropsBuilder"], __constructs__ : ["Pure","Ap"] };
thx_schema_PropsBuilder.Pure = function(a) { var $x = ["Pure",0,a]; $x.__enum__ = thx_schema_PropsBuilder; $x.toString = $estr; return $x; };
thx_schema_PropsBuilder.Ap = function(s,k) { var $x = ["Ap",1,s,k]; $x.__enum__ = thx_schema_PropsBuilder; $x.toString = $estr; return $x; };
var thx_schema_SchemaFExtensions = function() { };
thx_schema_SchemaFExtensions.__name__ = ["thx","schema","SchemaFExtensions"];
thx_schema_SchemaFExtensions.isConstant = function(schema) {
	switch(schema[1]) {
	case 4:
		return true;
	case 10:
		var s0 = schema[2];
		return thx_schema_SchemaFExtensions.isConstant(s0);
	case 11:
		var fs = schema[2];
		return thx_schema_SchemaFExtensions.isConstant(fs());
	default:
		return false;
	}
};
var thx_schema_ObjectSchemaExtensions = function() { };
thx_schema_ObjectSchemaExtensions.__name__ = ["thx","schema","ObjectSchemaExtensions"];
thx_schema_ObjectSchemaExtensions.map = function(o,f) {
	switch(o[1]) {
	case 0:
		var a = o[2];
		return thx_schema_PropsBuilder.Pure(f(a));
	case 1:
		var k = o[3];
		var s = o[2];
		var _e = f;
		return thx_schema_PropsBuilder.Ap(s,thx_schema_ObjectSchemaExtensions.map(k,function(fb) {
			var fa = _e;
			var fb1 = fb;
			return function(v) {
				var tmp = fb1(v);
				return fa(tmp);
			};
		}));
	}
};
thx_schema_ObjectSchemaExtensions.ap = function(o,f) {
	switch(f[1]) {
	case 0:
		var g = f[2];
		return thx_schema_ObjectSchemaExtensions.map(o,g);
	case 1:
		var k = f[3];
		var s = f[2];
		return thx_schema_PropsBuilder.Ap(s,thx_schema_ObjectSchemaExtensions.ap(o,thx_schema_ObjectSchemaExtensions.map(k,thx_fp_Functions.flip)));
	}
};
var thx_schema_AlternativeExtensions = function() { };
thx_schema_AlternativeExtensions.__name__ = ["thx","schema","AlternativeExtensions"];
thx_schema_AlternativeExtensions.id = function(alt) {
	var id = alt[2];
	return id;
};
thx_schema_AlternativeExtensions.isConstantAlt = function(alt) {
	var s = alt[3];
	return thx_schema_SchemaFExtensions.isConstant(s.schema);
};
var thx_schema_SimpleSchema = function() { };
thx_schema_SimpleSchema.__name__ = ["thx","schema","SimpleSchema"];
thx_schema_SimpleSchema.liftS = function(s) {
	return new thx_schema_AnnotatedSchema(thx_Unit.unit,s);
};
thx_schema_SimpleSchema.string = function() {
	return thx_schema_SimpleSchema.liftS(thx_schema_SchemaF.StrSchema);
};
thx_schema_SimpleSchema.array = function(elemSchema) {
	return thx_schema_SimpleSchema.liftS(thx_schema_SchemaF.ArraySchema(elemSchema));
};
thx_schema_SimpleSchema.object = function(propSchema) {
	return thx_schema_SimpleSchema.liftS(thx_schema_SchemaF.ObjectSchema(propSchema));
};
var thx_stream_Message = { __ename__ : ["thx","stream","Message"], __constructs__ : ["Next","Error","Done"] };
thx_stream_Message.Next = function(value) { var $x = ["Next",0,value]; $x.__enum__ = thx_stream_Message; $x.toString = $estr; return $x; };
thx_stream_Message.Error = function(err) { var $x = ["Error",1,err]; $x.__enum__ = thx_stream_Message; $x.toString = $estr; return $x; };
thx_stream_Message.Done = ["Done",2];
thx_stream_Message.Done.toString = $estr;
thx_stream_Message.Done.__enum__ = thx_stream_Message;
var thx_stream_Process = function(handler,init) {
	this.handler = thx_stream_Subjects.wrapHandler(handler);
	this.init = init;
};
thx_stream_Process.__name__ = ["thx","stream","Process"];
thx_stream_Process.nextAsMessageHandler = function(handler) {
	return function(m) {
		if(m[1] == 0) {
			var v = m[2];
			handler(v);
		}
	};
};
thx_stream_Process.failureAsMessageHandler = function(handler) {
	return function(m) {
		if(m[1] == 1) {
			var err = m[2];
			handler(err);
		}
	};
};
thx_stream_Process.prototype = {
	failure: function(handler) {
		var fa = this.handler;
		var fb = thx_stream_Process.failureAsMessageHandler(handler);
		return new thx_stream_Process(function(v) {
			fa(v);
			fb(v);
		},this.init);
	}
	,run: function() {
		this.init(this.handler);
	}
	,__class__: thx_stream_Process
};
var thx_stream_Property = function(initial,equals) {
	this.equals = null == equals ? thx_Functions.equality : equals;
	this.subjects = [];
	this.set(initial);
};
thx_stream_Property.__name__ = ["thx","stream","Property"];
thx_stream_Property.prototype = {
	modify: function(f) {
		var newValue = f(this.value);
		if(this.equals(this.value,newValue)) {
			return;
		}
		this.value = newValue;
		this.emit(thx_stream_Message.Next(newValue));
	}
	,get: function() {
		return this.value;
	}
	,set: function(value) {
		this.modify(function(_) {
			return value;
		});
	}
	,error: function(err) {
		this.emit(thx_stream_Message.Error(err));
	}
	,emit: function(value) {
		var _g = 0;
		var _g1 = this.subjects;
		while(_g < _g1.length) {
			var o = _g1[_g];
			++_g;
			o.message(value);
		}
	}
	,stream: function() {
		var _gthis = this;
		return thx_stream_Stream.cancellable(function(o,addCancel) {
			_gthis.subjects.push(o);
			addCancel(function() {
				HxOverrides.remove(_gthis.subjects,o);
			});
			o.message(thx_stream_Message.Next(_gthis.value));
		});
	}
	,__class__: thx_stream_Property
};
var thx_stream__$Reducer_Middleware_$Impl_$ = {};
thx_stream__$Reducer_Middleware_$Impl_$.__name__ = ["thx","stream","_Reducer","Middleware_Impl_"];
thx_stream__$Reducer_Middleware_$Impl_$.compose = function(this1,other) {
	return function(state,action,f) {
		this1(state,action,f);
		other(state,action,f);
	};
};
thx_stream__$Reducer_Middleware_$Impl_$.sideEffectState = function(f) {
	return function(state,_,_1) {
		f(state);
	};
};
thx_stream__$Reducer_Middleware_$Impl_$.empty = function() {
	return function(_,_1,f) {
	};
};
var thx_stream_Store = function(property,reducer,middleware) {
	this.property = property;
	this.reducer = reducer;
	this.middleware = middleware;
};
thx_stream_Store.__name__ = ["thx","stream","Store"];
thx_stream_Store.prototype = {
	dispatch: function(action,pos) {
		var _gthis = this;
		try {
			var newValue = this.reducer(this.get(),action);
			this.property.set(newValue);
			this.middleware(this.property.get(),action,function(a) {
				_gthis.dispatch(a,pos);
			});
		} catch( e ) {
			haxe_CallStack.lastException = e;
			if (e instanceof js__$Boot_HaxeError) e = e.val;
			this.property.error(thx_Error.fromDynamic(e,pos));
		}
		return this;
	}
	,stream: function() {
		return this.property.stream();
	}
	,get: function() {
		return this.property.get();
	}
	,__class__: thx_stream_Store
};
var thx_stream_Stream = function(init) {
	this.init = function(handler) {
		var tryCancel = false;
		var cancel = null;
		cancel = init(function(msg) {
			handler(msg);
			switch(msg[1]) {
			case 1:case 2:
				if(null != cancel) {
					cancel();
				} else {
					tryCancel = true;
				}
				break;
			default:
			}
		});
		if(tryCancel) {
			cancel();
		}
		return cancel;
	};
};
thx_stream_Stream.__name__ = ["thx","stream","Stream"];
thx_stream_Stream.value = function(value) {
	return thx_stream_Stream.create(function(o) {
		o.message(thx_stream_Message.Next(value));
		o.message(thx_stream_Message.Done);
	});
};
thx_stream_Stream.create = function(init) {
	return thx_stream_Stream.cancellable(function(o,_) {
		init(o);
		return function() {
		};
	});
};
thx_stream_Stream.cancellable = function(init) {
	return new thx_stream_Stream(function(handler) {
		var o = new thx_stream_SubjectF(handler);
		var cancel = thx_Functions.noop;
		var addCancel = function(newcancel) {
			var fa = cancel;
			var fb = newcancel;
			cancel = function() {
				fa();
				fb();
			};
		};
		try {
			init(o,addCancel);
		} catch( e ) {
			haxe_CallStack.lastException = e;
			if (e instanceof js__$Boot_HaxeError) e = e.val;
			o.message(thx_stream_Message.Error(thx_Error.fromDynamic(e,{ fileName : "Stream.hx", lineNumber : 58, className : "thx.stream.Stream", methodName : "cancellable"})));
		}
		return cancel;
	});
};
thx_stream_Stream.prototype = {
	message: function(handler) {
		return new thx_stream_Process(handler,this.init);
	}
	,next: function(handler) {
		return new thx_stream_Process(thx_stream_Process.nextAsMessageHandler(handler),this.init);
	}
	,flatMap: function(handler) {
		var _gthis = this;
		return thx_stream_Stream.create(function(o) {
			_gthis.message(function(msg) {
				switch(msg[1]) {
				case 0:
					var v = msg[2];
					var _e = o;
					var tmp = function(v1) {
						return _e.message(thx_stream_Message.Next(v1));
					};
					var _e1 = o;
					var tmp1 = function(err) {
						return _e1.message(thx_stream_Message.Error(err));
					};
					handler(v).next(tmp).failure(tmp1).run();
					break;
				case 1:
					var err1 = msg[2];
					o.message(thx_stream_Message.Error(err1));
					break;
				case 2:
					o.message(thx_stream_Message.Done);
					break;
				}
			}).run();
		});
	}
	,map: function(handler) {
		return this.flatMap(function(v) {
			return thx_stream_Stream.value(handler(v));
		});
	}
	,__class__: thx_stream_Stream
};
var thx_stream_Subject = function() { };
thx_stream_Subject.__name__ = ["thx","stream","Subject"];
thx_stream_Subject.prototype = {
	__class__: thx_stream_Subject
};
var thx_stream_SubjectF = function(handler) {
	this.handler = handler;
};
thx_stream_SubjectF.__name__ = ["thx","stream","SubjectF"];
thx_stream_SubjectF.__interfaces__ = [thx_stream_Subject];
thx_stream_SubjectF.prototype = {
	message: function(msg) {
		this.handler(msg);
		return this;
	}
	,__class__: thx_stream_SubjectF
};
var thx_stream_Subjects = function() { };
thx_stream_Subjects.__name__ = ["thx","stream","Subjects"];
thx_stream_Subjects.wrapHandler = function(handler) {
	var terminated = false;
	return function(msg) {
		if(terminated) {
			return;
		}
		handler(msg);
		switch(msg[1]) {
		case 1:case 2:
			terminated = true;
			break;
		default:
		}
	};
};
var view_App = function() { };
view_App.__name__ = ["view","App"];
view_App.render = function(state) {
	var _g2 = state.main;
	var children;
	if(_g2[1] == 1) {
		var page = _g2[2];
		children = haxe_ds_Option.Some(page);
	} else {
		children = haxe_ds_Option.None;
	}
	var children1 = view_Header.render(state.contents,children);
	var _g3 = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("page");
	if(__map_reserved["class"] != null) {
		_g3.setReserved("class",value);
	} else {
		_g3.h["class"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",null,doom_core__$VNodes_VNodes_$Impl_$.children([children1,doom_core__$VNode_VNode_$Impl_$.el("div",_g3,doom_core__$VNodes_VNodes_$Impl_$.children([view_App.renderMain(state.main,state.contents.groups)]))]));
};
view_App.renderMain = function(main,groups) {
	switch(main[1]) {
	case 0:
		var _g = new haxe_ds_StringMap();
		var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("loading");
		if(__map_reserved["class"] != null) {
			_g.setReserved("class",value);
		} else {
			_g.h["class"] = value;
		}
		return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text("...",null,null)]));
	case 1:
		var data = main[2];
		return view_PageView.render(data,groups);
	case 2:
		switch(main[2][1]) {
		case 0:
			return doom_core__$VNode_VNode_$Impl_$.el("div",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("h1",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(Loc.msg.error_page_not_found,null,null)]))]));
		case 1:
			var err = main[2][2];
			return doom_core__$VNode_VNode_$Impl_$.el("div",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("h1",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(Loc.msg.error_generic,null,null)])),doom_core__$VNode_VNode_$Impl_$.el("pre",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(err,null,null)]))]));
		}
		break;
	}
};
var view_GlyphView = function() { };
view_GlyphView.__name__ = ["view","GlyphView"];
view_GlyphView.render = function(g,size) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("symbol");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	var _g1 = new haxe_ds_StringMap();
	var value1 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("top");
	if(__map_reserved["class"] != null) {
		_g1.setReserved("class",value1);
	} else {
		_g1.h["class"] = value1;
	}
	var _g2 = new haxe_ds_StringMap();
	var value2 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("icon s" + size);
	if(__map_reserved["class"] != null) {
		_g2.setReserved("class",value2);
	} else {
		_g2.h["class"] = value2;
	}
	var _g3 = new haxe_ds_StringMap();
	var value3 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("" + g.name);
	if(__map_reserved["class"] != null) {
		_g3.setReserved("class",value3);
	} else {
		_g3.h["class"] = value3;
	}
	var children = doom_core__$VNode_VNode_$Impl_$.el("div",_g1,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("div",_g2,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("i",_g3,null)]))]));
	var _g4 = new haxe_ds_StringMap();
	var value4 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("bottom");
	if(__map_reserved["class"] != null) {
		_g4.setReserved("class",value4);
	} else {
		_g4.h["class"] = value4;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children([children,doom_core__$VNode_VNode_$Impl_$.el("div",_g4,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(g.name,null,null)]))]));
};
var view_Header = function() { };
view_Header.__name__ = ["view","Header"];
view_Header.render = function(contents,page) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("header");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	var _g1 = new haxe_ds_StringMap();
	var value1 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("top-header");
	if(__map_reserved["class"] != null) {
		_g1.setReserved("class",value1);
	} else {
		_g1.h["class"] = value1;
	}
	var _g2 = new haxe_ds_StringMap();
	var value2 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("center");
	if(__map_reserved["class"] != null) {
		_g2.setReserved("class",value2);
	} else {
		_g2.h["class"] = value2;
	}
	var _g3 = new haxe_ds_StringMap();
	var value3 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("logo");
	if(__map_reserved["class"] != null) {
		_g3.setReserved("class",value3);
	} else {
		_g3.h["class"] = value3;
	}
	var _g4 = new haxe_ds_StringMap();
	var value4 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("#/");
	if(__map_reserved["href"] != null) {
		_g4.setReserved("href",value4);
	} else {
		_g4.h["href"] = value4;
	}
	var _g5 = new haxe_ds_StringMap();
	var value5 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("df-d20-20");
	if(__map_reserved["class"] != null) {
		_g5.setReserved("class",value5);
	} else {
		_g5.h["class"] = value5;
	}
	var children = doom_core__$VNode_VNode_$Impl_$.el("div",_g3,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("a",_g4,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("i",_g5,null)]))]));
	var _g6 = new haxe_ds_StringMap();
	var value6 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("title");
	if(__map_reserved["class"] != null) {
		_g6.setReserved("class",value6);
	} else {
		_g6.h["class"] = value6;
	}
	var _g7 = new haxe_ds_StringMap();
	var value7 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("#/");
	if(__map_reserved["href"] != null) {
		_g7.setReserved("href",value7);
	} else {
		_g7.h["href"] = value7;
	}
	var children1 = doom_core__$VNode_VNode_$Impl_$.el("div",_g6,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("a",_g7,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(Loc.msg.header_title,null,null)]))]));
	var _g8 = new haxe_ds_StringMap();
	var value8 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("links");
	if(__map_reserved["class"] != null) {
		_g8.setReserved("class",value8);
	} else {
		_g8.h["class"] = value8;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("div",_g1,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("div",_g2,doom_core__$VNodes_VNodes_$Impl_$.children([children,children1,doom_core__$VNode_VNode_$Impl_$.el("div",_g8,doom_core__$VNodes_VNodes_$Impl_$.children([view_Header.renderPages(contents.pages,page)]))]))]))]));
};
view_Header.renderPages = function(list,current) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("site-links");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("ul",_g,doom_core__$VNodes_VNodes_$Impl_$.children(list.map(function(page) {
		if(current[1] == 0) {
			var current1 = current[2];
			if(current1.name == page.name) {
				return doom_core__$VNode_VNode_$Impl_$.el("li",null,doom_core__$VNodes_VNodes_$Impl_$.children([view_Header.renderCurrent(page)]));
			} else {
				return doom_core__$VNode_VNode_$Impl_$.el("li",null,doom_core__$VNodes_VNodes_$Impl_$.children([view_Header.renderLink(page)]));
			}
		} else {
			return doom_core__$VNode_VNode_$Impl_$.el("li",null,doom_core__$VNodes_VNodes_$Impl_$.children([view_Header.renderLink(page)]));
		}
	})));
};
view_Header.renderLink = function(page) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("#/" + page.name);
	if(__map_reserved["href"] != null) {
		_g.setReserved("href",value);
	} else {
		_g.h["href"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("a",_g,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(page.name,null,null)]));
};
view_Header.renderCurrent = function(page) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("active");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("span",_g,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(page.name,null,null)]));
};
var view_PageView = function() { };
view_PageView.__name__ = ["view","PageView"];
view_PageView.render = function(page,groups) {
	var contents = [doom_core_VNodeImpl.Raw(Markdown.markdownToHtml(page.content),null,null)];
	if(page.name == "home") {
		contents.push(view_PageView.renderGroups(groups));
	}
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("site-page");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	var _g1 = new haxe_ds_StringMap();
	var value1 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("markdown");
	if(__map_reserved["class"] != null) {
		_g1.setReserved("class",value1);
	} else {
		_g1.h["class"] = value1;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core__$VNode_VNode_$Impl_$.el("div",_g1,doom_core__$VNodes_VNodes_$Impl_$.children(contents))]));
};
view_PageView.renderGroups = function(groups) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("groups");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children(groups.map(function(g) {
		var _g1 = new haxe_ds_StringMap();
		var value1 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("glyph");
		if(__map_reserved["class"] != null) {
			_g1.setReserved("class",value1);
		} else {
			_g1.h["class"] = value1;
		}
		var children = doom_core__$VNode_VNode_$Impl_$.el("h2",null,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text(g.title,null,null)]));
		var _g2 = new haxe_ds_StringMap();
		var value2 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("notes");
		if(__map_reserved["class"] != null) {
			_g2.setReserved("class",value2);
		} else {
			_g2.h["class"] = value2;
		}
		return doom_core__$VNode_VNode_$Impl_$.el("div",_g1,doom_core__$VNodes_VNodes_$Impl_$.children([children,doom_core__$VNode_VNode_$Impl_$.el("h3",_g2,doom_core__$VNodes_VNodes_$Impl_$.children([doom_core_VNodeImpl.Text("ideal size " + g.size + "px",null,null)])),view_PageView.renderGlyphs(g.glyphs,g.size)]));
	})));
};
view_PageView.renderGlyphs = function(glyphs,size) {
	var _g = new haxe_ds_StringMap();
	var value = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("glyphs");
	if(__map_reserved["class"] != null) {
		_g.setReserved("class",value);
	} else {
		_g.h["class"] = value;
	}
	return doom_core__$VNode_VNode_$Impl_$.el("div",_g,doom_core__$VNodes_VNodes_$Impl_$.children(glyphs.map(function(g) {
		var _g1 = new haxe_ds_StringMap();
		var value1 = doom_core__$AttributeValue_AttributeValue_$Impl_$.fromString("glyph");
		if(__map_reserved["class"] != null) {
			_g1.setReserved("class",value1);
		} else {
			_g1.h["class"] = value1;
		}
		return doom_core__$VNode_VNode_$Impl_$.el("div",_g1,doom_core__$VNodes_VNodes_$Impl_$.children([view_GlyphView.render(g,size)]));
	})));
};
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
String.prototype.__class__ = String;
String.__name__ = ["String"];
Array.__name__ = ["Array"];
var Int = { __name__ : ["Int"]};
var Dynamic = { __name__ : ["Dynamic"]};
var Float = Number;
Float.__name__ = ["Float"];
var Bool = Boolean;
Bool.__ename__ = ["Bool"];
var Class = { __name__ : ["Class"]};
var Enum = { };
var __map_reserved = {}
var ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;
}
var Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;
Loc.msg = { tab_home_title_page : "DiceFont", tab_title_loading : "Loading ...", tab_title_page_not_found : "Page Not Found - DiceFont", error_page_not_found : "Page Not Found", tab_title_page : "{0} - DiceFont", header_title : "DiceFont", error_generic : "Server Error", tab_title_generic_error : "System Error - DiceFont"};
api_Glyph.numberPattern = new EReg("^\\d+$","");
api_Glyphs.groups = [{ name : "d2", size : 36, prefix : "d2"},{ name : "d4", size : 36, prefix : "d4"},{ name : "d6", size : 36, prefix : "d6"},{ name : "d8", size : 36, prefix : "d8"},{ name : "d10", size : 36, prefix : "d10"},{ name : "d12", size : 36, prefix : "d12"},{ name : "d20", size : 36, prefix : "d20"},{ name : "dots solid d6", size : 24, prefix : "solid-small-dot-d6"},{ name : "dots d6", size : 24, prefix : "small-dot-d6"}];
doom_html_Attributes.properties = (function($this) {
	var $r;
	var _g = new haxe_ds_StringMap();
	{
		var value = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["allowFullScreen"] != null) {
			_g.setReserved("allowFullScreen",value);
		} else {
			_g.h["allowFullScreen"] = value;
		}
	}
	{
		var value1 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["async"] != null) {
			_g.setReserved("async",value1);
		} else {
			_g.h["async"] = value1;
		}
	}
	{
		var value2 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["autoFocus"] != null) {
			_g.setReserved("autoFocus",value2);
		} else {
			_g.h["autoFocus"] = value2;
		}
	}
	{
		var value3 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["autoPlay"] != null) {
			_g.setReserved("autoPlay",value3);
		} else {
			_g.h["autoPlay"] = value3;
		}
	}
	{
		var value4 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["capture"] != null) {
			_g.setReserved("capture",value4);
		} else {
			_g.h["capture"] = value4;
		}
	}
	{
		var value5 = doom_html_AttributeType.BooleanProperty;
		if(__map_reserved["checked"] != null) {
			_g.setReserved("checked",value5);
		} else {
			_g.h["checked"] = value5;
		}
	}
	{
		var value6 = doom_html_AttributeType.PositiveNumericAttribute;
		if(__map_reserved["cols"] != null) {
			_g.setReserved("cols",value6);
		} else {
			_g.h["cols"] = value6;
		}
	}
	{
		var value7 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["controls"] != null) {
			_g.setReserved("controls",value7);
		} else {
			_g.h["controls"] = value7;
		}
	}
	{
		var value8 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["default"] != null) {
			_g.setReserved("default",value8);
		} else {
			_g.h["default"] = value8;
		}
	}
	{
		var value9 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["defer"] != null) {
			_g.setReserved("defer",value9);
		} else {
			_g.h["defer"] = value9;
		}
	}
	{
		var value10 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["disabled"] != null) {
			_g.setReserved("disabled",value10);
		} else {
			_g.h["disabled"] = value10;
		}
	}
	{
		var value11 = doom_html_AttributeType.OverloadedBooleanAttribute;
		if(__map_reserved["download"] != null) {
			_g.setReserved("download",value11);
		} else {
			_g.h["download"] = value11;
		}
	}
	{
		var value12 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["formNoValidate"] != null) {
			_g.setReserved("formNoValidate",value12);
		} else {
			_g.h["formNoValidate"] = value12;
		}
	}
	{
		var value13 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["hidden"] != null) {
			_g.setReserved("hidden",value13);
		} else {
			_g.h["hidden"] = value13;
		}
	}
	{
		var value14 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["loop"] != null) {
			_g.setReserved("loop",value14);
		} else {
			_g.h["loop"] = value14;
		}
	}
	{
		var value15 = doom_html_AttributeType.BooleanProperty;
		if(__map_reserved["multiple"] != null) {
			_g.setReserved("multiple",value15);
		} else {
			_g.h["multiple"] = value15;
		}
	}
	{
		var value16 = doom_html_AttributeType.BooleanProperty;
		if(__map_reserved["muted"] != null) {
			_g.setReserved("muted",value16);
		} else {
			_g.h["muted"] = value16;
		}
	}
	{
		var value17 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["noValidate"] != null) {
			_g.setReserved("noValidate",value17);
		} else {
			_g.h["noValidate"] = value17;
		}
	}
	{
		var value18 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["open"] != null) {
			_g.setReserved("open",value18);
		} else {
			_g.h["open"] = value18;
		}
	}
	{
		var value19 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["readOnly"] != null) {
			_g.setReserved("readOnly",value19);
		} else {
			_g.h["readOnly"] = value19;
		}
	}
	{
		var value20 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["required"] != null) {
			_g.setReserved("required",value20);
		} else {
			_g.h["required"] = value20;
		}
	}
	{
		var value21 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["reversed"] != null) {
			_g.setReserved("reversed",value21);
		} else {
			_g.h["reversed"] = value21;
		}
	}
	{
		var value22 = doom_html_AttributeType.PositiveNumericAttribute;
		if(__map_reserved["rows"] != null) {
			_g.setReserved("rows",value22);
		} else {
			_g.h["rows"] = value22;
		}
	}
	{
		var value23 = doom_html_AttributeType.NumericAttribute;
		if(__map_reserved["rowSpan"] != null) {
			_g.setReserved("rowSpan",value23);
		} else {
			_g.h["rowSpan"] = value23;
		}
	}
	{
		var value24 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["scoped"] != null) {
			_g.setReserved("scoped",value24);
		} else {
			_g.h["scoped"] = value24;
		}
	}
	{
		var value25 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["seamless"] != null) {
			_g.setReserved("seamless",value25);
		} else {
			_g.h["seamless"] = value25;
		}
	}
	{
		var value26 = doom_html_AttributeType.BooleanProperty;
		if(__map_reserved["selected"] != null) {
			_g.setReserved("selected",value26);
		} else {
			_g.h["selected"] = value26;
		}
	}
	{
		var value27 = doom_html_AttributeType.PositiveNumericAttribute;
		if(__map_reserved["size"] != null) {
			_g.setReserved("size",value27);
		} else {
			_g.h["size"] = value27;
		}
	}
	{
		var value28 = doom_html_AttributeType.PositiveNumericAttribute;
		if(__map_reserved["span"] != null) {
			_g.setReserved("span",value28);
		} else {
			_g.h["span"] = value28;
		}
	}
	{
		var value29 = doom_html_AttributeType.NumericAttribute;
		if(__map_reserved["start"] != null) {
			_g.setReserved("start",value29);
		} else {
			_g.h["start"] = value29;
		}
	}
	{
		var value30 = doom_html_AttributeType.SideEffectProperty;
		if(__map_reserved["value"] != null) {
			_g.setReserved("value",value30);
		} else {
			_g.h["value"] = value30;
		}
	}
	{
		var value31 = doom_html_AttributeType.BooleanAttribute;
		if(__map_reserved["itemScope"] != null) {
			_g.setReserved("itemScope",value31);
		} else {
			_g.h["itemScope"] = value31;
		}
	}
	$r = _g;
	return $r;
}(this));
doom_html_Render.defaultNamespaces = (function($this) {
	var $r;
	var _g = new haxe_ds_StringMap();
	if(__map_reserved["svg"] != null) {
		_g.setReserved("svg","http://www.w3.org/2000/svg");
	} else {
		_g.h["svg"] = "http://www.w3.org/2000/svg";
	}
	if(__map_reserved["xlink"] != null) {
		_g.setReserved("xlink","http://www.w3.org/1999/xlink");
	} else {
		_g.h["xlink"] = "http://www.w3.org/1999/xlink";
	}
	if(__map_reserved["ev"] != null) {
		_g.setReserved("ev","http://www.w3.org/2001/xml-events");
	} else {
		_g.h["ev"] = "http://www.w3.org/2001/xml-events";
	}
	if(__map_reserved["xsl"] != null) {
		_g.setReserved("xsl","http://www.w3.org/1999/XSL/Transform");
	} else {
		_g.h["xsl"] = "http://www.w3.org/1999/XSL/Transform";
	}
	if(__map_reserved["m"] != null) {
		_g.setReserved("m","http://www.w3.org/1998/Math/MathML");
	} else {
		_g.h["m"] = "http://www.w3.org/1998/Math/MathML";
	}
	$r = _g;
	return $r;
}(this));
dots_Html.pattern = new EReg("[<]([^> ]+)","");
dots_Query.doc = document;
haxe_ds_ObjectMap.count = 0;
js_Boot.__toStr = ({ }).toString;
js_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;
markdown_BlockSyntax.RE_EMPTY = new EReg("^([ \\t]*)$","");
markdown_BlockSyntax.RE_SETEXT = new EReg("^((=+)|(-+))$","");
markdown_BlockSyntax.RE_HEADER = new EReg("^(#{1,6})(.*?)#*$","");
markdown_BlockSyntax.RE_BLOCKQUOTE = new EReg("^[ ]{0,3}>[ ]?(.*)$","");
markdown_BlockSyntax.RE_INDENT = new EReg("^(?:    |\t)(.*)$","");
markdown_BlockSyntax.RE_CODE = new EReg("^```(\\w*)\\s*$","");
markdown_BlockSyntax.RE_HR = new EReg("^[ ]{0,3}((-+[ ]{0,2}){3,}|(_+[ ]{0,2}){3,}|(\\*+[ ]{0,2}){3,})$","");
markdown_BlockSyntax.RE_HTML = new EReg("^<[ ]*\\w+[ >]","");
markdown_BlockSyntax.RE_UL = new EReg("^[ ]{0,3}[*+-][ \\t]+(.*)$","");
markdown_BlockSyntax.RE_OL = new EReg("^[ ]{0,3}\\d+\\.[ \\t]+(.*)$","");
markdown_TableSyntax.TABLE_PATTERN = new EReg("^(.+? +:?\\|:? +)+(.+)$","");
markdown_TableSyntax.CELL_PATTERN = new EReg("(\\|)?([^\\|]+)(\\|)?","g");
markdown_HtmlRenderer.BLOCK_TAGS = new EReg("blockquote|h1|h2|h3|h4|h5|h6|hr|p|pre","");
markdown_HtmlRenderer.attributeOrder = ["src","alt"];
markdown_LinkSyntax.linkPattern = "\\](?:(" + "\\s?\\[([^\\]]*)\\]" + "|" + "\\s?\\(([^ )]+)(?:[ ]*\"([^\"]+)\"|)\\)" + ")|)";
markdown_ImgSyntax.linkPattern = "\\](?:(" + "\\s?\\[([^\\]]*)\\]" + "|" + "\\s?\\(([^ )]+)(?:[ ]*\"([^\"]+)\"|)\\)" + ")|)";
markdown_InlineParser.defaultSyntaxes = [new markdown_AutolinkSyntaxWithoutBrackets(),new markdown_TextSyntax(" {2,}\n","<br />\n"),new markdown_TextSyntax("\\s*[A-Za-z0-9]+"),new markdown_AutolinkSyntax(),new markdown_LinkSyntax(),new markdown_ImgSyntax(),new markdown_TextSyntax(" \\* "),new markdown_TextSyntax(" _ "),new markdown_TextSyntax("&[#a-zA-Z0-9]*;"),new markdown_TextSyntax("&","&amp;"),new markdown_TextSyntax("</?\\w+.*?>"),new markdown_TextSyntax("<","&lt;"),new markdown_TagSyntax("\\*\\*","strong"),new markdown_TagSyntax("__","strong"),new markdown_TagSyntax("\\*","em"),new markdown_TagSyntax("\\b_","em","_\\b"),new markdown_CodeSyntax("``\\s?((?:.|\\n)*?)\\s?``"),new markdown_CodeSyntax("`([^`]*)`")];
thx_Floats.pattern_parse = new EReg("^(\\+|-)?\\d+(\\.\\d+)?(e-?\\d+)?$","");
thx_Ints.pattern_parse = new EReg("^[ \t\r\n]*[+-]?(\\d+|0x[0-9A-F]+)","i");
thx__$QueryString_QueryString_$Impl_$.separator = "&";
thx__$QueryString_QueryString_$Impl_$.assignment = "=";
thx_Strings.DIGITS = new EReg("^[0-9]+$","");
thx__$Url_Url_$Impl_$.pattern = new EReg("^((((?:([^:/#\\?]+):)?(?:(//)?((?:(([^:@/#\\?]+)(?:[:]([^:@/#\\?]+))?)@)?(([^:/#\\?\\]\\[]+|\\[[^/\\]@#?]+\\])(?:[:]([0-9]+))?))?)?)?((/?(?:[^/\\?#]+/+)*)([^\\?#]*)))?(?:\\?([^#]+))?)(?:#(.*))?","");
thx_http_Response.statusCodes = (function($this) {
	var $r;
	var _g = new haxe_ds_IntMap();
	_g.h[100] = "Continue";
	_g.h[101] = "Switching Protocols";
	_g.h[102] = "Processing";
	_g.h[200] = "OK";
	_g.h[201] = "Created";
	_g.h[202] = "Accepted";
	_g.h[203] = "Non-Authoritative Information";
	_g.h[204] = "No Content";
	_g.h[205] = "Reset Content";
	_g.h[206] = "Partial Content";
	_g.h[207] = "Multi-Status";
	_g.h[208] = "Already Reported";
	_g.h[226] = "IM Used";
	_g.h[300] = "Multiple Choices";
	_g.h[301] = "Moved Permanently";
	_g.h[302] = "Found";
	_g.h[303] = "See Other";
	_g.h[304] = "Not Modified";
	_g.h[305] = "Use Proxy";
	_g.h[306] = "(Unused)";
	_g.h[307] = "Temporary Redirect";
	_g.h[308] = "Permanent Redirect";
	_g.h[400] = "Bad Request";
	_g.h[401] = "Unauthorized";
	_g.h[402] = "Payment Required";
	_g.h[403] = "Forbidden";
	_g.h[404] = "Not Found";
	_g.h[405] = "Method Not Allowed";
	_g.h[406] = "Not Acceptable";
	_g.h[407] = "Proxy Authentication Required";
	_g.h[408] = "Request Timeout";
	_g.h[409] = "Conflict";
	_g.h[410] = "Gone";
	_g.h[411] = "Length Required";
	_g.h[412] = "Precondition Failed";
	_g.h[413] = "Payload Too Large";
	_g.h[414] = "URI Too Long";
	_g.h[415] = "Unsupported Media Type";
	_g.h[416] = "Range Not Satisfiable";
	_g.h[417] = "Expectation Failed";
	_g.h[421] = "Misdirected Request";
	_g.h[422] = "Unprocessable Entity";
	_g.h[423] = "Locked";
	_g.h[424] = "Failed Dependency";
	_g.h[426] = "Upgrade Required";
	_g.h[428] = "Precondition Required";
	_g.h[429] = "Too Many Requests";
	_g.h[431] = "Request Header Fields Too Large";
	_g.h[500] = "Internal Server Error";
	_g.h[501] = "Not Implemented";
	_g.h[502] = "Bad Gateway";
	_g.h[503] = "Service Unavailable";
	_g.h[504] = "Gateway Timeout";
	_g.h[505] = "HTTP Version Not Supported";
	_g.h[506] = "Variant Also Negotiates";
	_g.h[507] = "Insufficient Storage";
	_g.h[508] = "Loop Detected";
	_g.h[510] = "Not Extended";
	_g.h[511] = "Network Authentication Required";
	$r = _g;
	return $r;
}(this));
Client.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
